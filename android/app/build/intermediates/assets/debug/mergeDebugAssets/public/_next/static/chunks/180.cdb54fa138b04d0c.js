"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{27862:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var r=s(95155),t=s(12115),o=s(86948),i=s(3998),n=s(76444),l=s(31120),c=s(50909),d=s(15894),u=s(52987),m=s(35626),x=s(46046),h=s(42529),p=s(90799),f=s(28051),j=s(29141);function v(e){let{content:a,pathId:s,onComplete:v}=e,{toast:g}=(0,d.dj)(),{user:b}=(0,j.J)(),[N,y]=(0,t.useState)(0),[w,q]=(0,t.useState)(""),[A,C]=(0,t.useState)(""),[k,S]=(0,t.useState)(""),[E,M]=(0,t.useState)(""),[P,z]=(0,t.useState)(!1),J=()=>y(e=>e+1),R=()=>y(e=>e>0?e-1:0),T=()=>{y(0),q(""),C(""),S(""),M(""),z(!1)},$=e=>{if(e.preventDefault(),!w.trim()||!k.trim()||!E.trim())return void g({title:"Pacto incompleto",description:"Por favor, completa todas las secciones del pacto.",variant:"destructive"});let r="\n**Ejercicio: ".concat(a.title,"**\n\n*Me comprometo a cuidar:*\n").concat(w,"\n\n*Mi recordatorio tangible ser\xe1:*\n").concat(k,'\n\n*Mi frase de acompa\xf1amiento emocional es:*\n"').concat(E,'"\n    ');(0,f.R1)({title:"Mi Pacto Conmigo",content:r,pathId:s,userId:null==b?void 0:b.id}),g({title:"Pacto Guardado",description:"Tu pacto contigo se ha guardado en el cuaderno."}),z(!0),v(),J()};return(0,r.jsxs)(o.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,r.jsxs)(o.aR,{children:[(0,r.jsxs)(o.ZB,{className:"text-lg text-accent flex items-center",children:[(0,r.jsx)(p.A,{className:"mr-2"}),a.title]}),a.objective&&(0,r.jsxs)(o.BT,{className:"pt-2",children:[a.objective,a.audioUrl&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("audio",{controls:!0,controlsList:"nodownload",className:"w-full",children:[(0,r.jsx)("source",{src:a.audioUrl,type:"audio/mp3"}),"Tu navegador no soporta el elemento de audio."]})})]})]}),(0,r.jsx)(o.Wu,{children:(()=>{switch(N){case 0:return(0,r.jsxs)("div",{className:"p-4 space-y-4 text-center",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Esta ruta no termina aqu\xed. Pero ahora es momento de cerrar esta etapa con un gesto significativo: un pacto contigo. No desde la exigencia, sino desde el cuidado. No para hacerlo todo perfecto, sino para recordarte lo que te fortalece cuando m\xe1s lo necesites."}),(0,r.jsxs)(i.$,{onClick:J,children:["Empezar mi pacto ",(0,r.jsx)(u.A,{className:"ml-2 h-4 w-4"})]})]});case 1:return(0,r.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 1: \xbfQu\xe9 me comprometo a cuidar?"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Piensa en una o dos pr\xe1cticas o actitudes que quieras mantener vivas. Esas que sabes que te hacen bien, aunque a veces las olvides."}),(0,r.jsxs)("div",{className:"p-2 border-l-2 border-accent bg-accent/10 italic text-sm",children:[(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Ejemplos:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside",children:[(0,r.jsx)("li",{children:"“Me comprometo a escuchar mis se\xf1ales internas antes de decir que s\xed a todo.”"}),(0,r.jsx)("li",{children:"“Me comprometo a respirar tres veces antes de reaccionar en autom\xe1tico.”"}),(0,r.jsx)("li",{children:"“Me comprometo a seguir habl\xe1ndome con respeto.”"})]})]}),(0,r.jsx)(n.J,{htmlFor:"commitment-pact",children:"Escribe aqu\xed lo que te comprometes a cuidar"}),(0,r.jsx)(l.T,{id:"commitment-pact",value:w,onChange:e=>q(e.target.value),disabled:P}),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(i.$,{onClick:R,variant:"outline",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsxs)(i.$,{onClick:J,disabled:!w.trim(),children:["Siguiente ",(0,r.jsx)(u.A,{className:"ml-2 h-4 w-4"})]})]})]});case 2:return(0,r.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 2: \xbfC\xf3mo me lo recordar\xe9?"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tu compromiso necesita una se\xf1al que lo mantenga vivo. Cuando est\xe1s en medio del caos, del cansancio o de la rutina… es f\xe1cil olvidarse de lo que te has propuesto. Por eso, aqu\xed vas a elegir un recordatorio concreto, algo visible, f\xedsico o cotidiano que te recuerde volver a ti."}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No se trata de una frase emocional profunda (eso vendr\xe1 en el siguiente paso), sino de algo que puedas ver, hacer o tocar para reconectar con tu ancla interna."}),(0,r.jsx)(n.J,{children:"\xbfQu\xe9 puedes usar como recordatorio?"}),(0,r.jsxs)(c.z,{value:A,onValueChange:C,children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.C,{value:"rutina",id:"rem-routine"}),(0,r.jsx)(n.J,{className:"font-normal",htmlFor:"rem-routine",children:"Una rutina diaria"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.C,{value:"objeto",id:"rem-object"}),(0,r.jsx)(n.J,{className:"font-normal",htmlFor:"rem-object",children:"Un objeto con significado"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.C,{value:"nota",id:"rem-note"}),(0,r.jsx)(n.J,{className:"font-normal",htmlFor:"rem-note",children:"Una nota o imagen visible"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.C,{value:"gesto",id:"rem-gesture"}),(0,r.jsx)(n.J,{className:"font-normal",htmlFor:"rem-gesture",children:"Un gesto f\xedsico"})]})]}),(0,r.jsx)(l.T,{value:k,onChange:e=>S(e.target.value),placeholder:'Describe tu recordatorio. Ej: "Cada ma\xf1ana, al lavarme la cara, me repetir\xe9 mi frase..."'}),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(i.$,{onClick:R,variant:"outline",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsxs)(i.$,{onClick:J,disabled:!k.trim(),children:["Siguiente ",(0,r.jsx)(u.A,{className:"ml-2 h-4 w-4"})]})]})]});case 3:return(0,r.jsxs)("form",{onSubmit:$,className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 3: Una frase que me acompa\xf1e"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ahora recoge lo vivido y trad\xfacelo en palabras que te sostengan. Esta frase no tiene que ser perfecta. Solo aut\xe9ntica. \xbfQu\xe9 quieres decirte a ti mismo/a cuando te sientas perdido/a, agotado/a o en lucha?"}),(0,r.jsxs)("div",{className:"p-2 border-l-2 border-accent bg-accent/10 italic text-sm",children:[(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Ejemplos reales:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside",children:[(0,r.jsx)("li",{children:"“No tengo que tener todo resuelto para seguir caminando.”"}),(0,r.jsx)("li",{children:"“He ca\xeddo, pero tambi\xe9n he aprendido a sostenerme.”"}),(0,r.jsx)("li",{children:"“Pase lo que pase, ahora s\xe9 c\xf3mo volver a m\xed.”"}),(0,r.jsx)("li",{children:"“Estoy creciendo, aunque a veces duela.”"})]})]}),(0,r.jsx)(n.J,{htmlFor:"anchor-phrase",children:"Mi frase de acompa\xf1amiento emocional es:"}),(0,r.jsx)(l.T,{id:"anchor-phrase",value:E,onChange:e=>M(e.target.value)}),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(i.$,{onClick:R,variant:"outline",type:"button",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsxs)(i.$,{type:"submit",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"})," Guardar mi pacto"]})]})]});case 4:return(0,r.jsxs)("div",{className:"p-6 text-center space-y-4",children:[(0,r.jsx)(h.A,{className:"h-12 w-12 text-green-500 mx-auto"}),(0,r.jsx)("h4",{className:"font-bold text-lg",children:"Pacto Guardado"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Este pacto no es una obligaci\xf3n. Es una forma de cuidarte con conciencia, de recordarte lo que vales, y de tener un faro cuando lleguen d\xedas grises. Ll\xe9valo contigo. Porque esto no se acaba… solo empieza de otra manera."}),(0,r.jsx)(i.$,{onClick:T,variant:"outline",className:"w-full",children:"Crear otro pacto"})]});default:return null}})()})]})}},31120:(e,a,s)=>{s.d(a,{T:()=>i});var r=s(95155),t=s(12115),o=s(64269);let i=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...t})});i.displayName="Textarea"},35626:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},46046:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},50909:(e,a,s)=>{s.d(a,{C:()=>c,z:()=>l});var r=s(95155),t=s(12115),o=s(24058),i=s(99051),n=s(64269);let l=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(o.bL,{className:(0,n.cn)("grid gap-2",s),...t,ref:a})});l.displayName=o.bL.displayName;let c=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(o.q7,{ref:a,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,r.jsx)(o.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(i.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});c.displayName=o.q7.displayName},52987:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},76444:(e,a,s)=>{s.d(a,{J:()=>c});var r=s(95155),t=s(12115),o=s(32894),i=s(83101),n=s(64269);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(o.b,{ref:a,className:(0,n.cn)(l(),s),...t})});c.displayName=o.b.displayName},78108:(e,a,s)=>{s.d(a,{Z:()=>t});var r=s(12115);function t(e){let a=r.useRef({value:e,previous:e});return r.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},84288:(e,a,s)=>{s.d(a,{X:()=>o});var r=s(12115),t=s(4129);function o(e){let[a,s]=r.useState(void 0);return(0,t.N)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let a=new ResizeObserver(a=>{let r,t;if(!Array.isArray(a)||!a.length)return;let o=a[0];if("borderBoxSize"in o){let e=o.borderBoxSize,a=Array.isArray(e)?e[0]:e;r=a.inlineSize,t=a.blockSize}else r=e.offsetWidth,t=e.offsetHeight;s({width:r,height:t})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}s(void 0)},[e]),a}}}]);