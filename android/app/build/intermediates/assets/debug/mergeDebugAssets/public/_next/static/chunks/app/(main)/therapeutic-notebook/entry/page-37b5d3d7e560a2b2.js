(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4893],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>i});var n=r(95155),a=r(12115),s=r(32467),l=r(83101),o=r(64269);let i=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:c=!1,...d}=e,u=c?s.DX:"button";return(0,n.jsx)(u,{className:(0,o.cn)(i({variant:a,size:l,className:r})),ref:t,...d})});c.displayName="Button"},16485:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},20063:(e,t,r)=>{"use strict";var n=r(47260);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},27937:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},28051:(e,t,r)=>{"use strict";r.d(t,{As:()=>m,O7:()=>d,R1:()=>u,zp:()=>p});var n=r(19056),a=r(5282),s=r(80160);let l="workwell-therapeutic-notebook",o="".concat("https://emotiva--workwell-c4rlk.europe-west4.hosted.app/","/save-notebook-entry");async function i(e,t){try{let r={userId:e,entryData:t};console.log("--- DEBUG: Informaci\xf3n de la llamada API para guardar en el cuaderno ---"),console.log("URL Destino (Proxy Interno):",o),console.log("M\xe9todo HTTP:","POST"),console.log("Payload (Cuerpo de la petici\xf3n):",JSON.stringify(r,null,2)),console.log("--------------------------------------------------------------------");let n=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await n.json();n.ok?console.log("[Client] Notebook entry for user '".concat(e,"' sync initiated successfully.")):console.error("[Client] Notebook sync failed with status: ".concat(n.status,"."),a)}catch(e){console.error("[Client] Error calling internal notebook sync API:",e)}}function c(){try{let e=localStorage.getItem(l);return(e?JSON.parse(e):[]).sort((e,t)=>(0,n.H)(t.timestamp).getTime()-(0,n.H)(e.timestamp).getTime())}catch(e){return console.error("Error reading notebook entries from localStorage:",e),[]}}function d(e){return c().find(t=>t.id===e)}function u(e){let{userId:t,...r}=e,n={id:crypto.randomUUID(),timestamp:new Date().toISOString(),...r};try{{let e=c(),t=[n,...e].slice(0,100);localStorage.setItem(l,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("notebook-updated"))}}catch(e){console.error("Error saving notebook entry to localStorage:",e)}return t?i(t,{id:n.id,timestamp:n.timestamp,title:n.title,content:n.content,pathId:n.pathId,ruta:n.ruta}):console.warn("addNotebookEntry: userId not provided, skipping external sync."),n}function p(e){try{let t=[...e].sort((e,t)=>{try{return(0,n.H)(t.timestamp).getTime()-(0,n.H)(e.timestamp).getTime()}catch(r){try{return new Date(t.timestamp.replace(" ","T")).getTime()-new Date(e.timestamp.replace(" ","T")).getTime()}catch(r){return console.warn("Could not parse timestamps for sorting in overwriteNotebookEntries:",t.timestamp,e.timestamp),0}}}).slice(0,100);localStorage.setItem(l,JSON.stringify(t))}catch(e){console.error("Error overwriting notebook entries in localStorage:",e)}}function m(e){if(!e)return"Fecha no disponible";try{let t=(0,n.H)(e);if(!isNaN(t.getTime()))return(0,a.GP)(t,"dd MMM yyyy, HH:mm",{locale:s.es});let r=new Date(e.replace(" ","T"));if(!isNaN(r.getTime()))return(0,a.GP)(r,"dd MMM yyyy, HH:mm",{locale:s.es});return console.error("Error critical formatting entry timestamp: Invalid date string provided -",e),"Fecha inv\xe1lida"}catch(t){return console.error("Error formatting entry timestamp:",t,"Input:",e),"Fecha inv\xe1lida"}}},30552:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(95155),a=r(12115),s=r(20063),l=r(28051),o=r(86948),i=r(3998),c=r(35299),d=r(52056),u=r(35626),p=r(71046),m=r(16485),f=r(27937),h=r(52987),y=r(52619),x=r.n(y);function g(e){let{content:t}=e,r=t.split("\n\n");return(0,n.jsx)("div",{className:"prose prose-lg dark:prose-invert max-w-none space-y-4",children:r.map((e,t)=>{let r=e.split("\n").filter(e=>""!==e.trim());if(0===r.length)return null;let a=r[0],s=r.slice(1),l=a.match(/^[-*]/);return(0,n.jsx)("div",{children:l?(0,n.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:r.map((e,t)=>(0,n.jsx)("li",{children:e.replace(/^[-*]\s*/,"")},t))}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"text-base leading-relaxed",children:a}),s.length>0&&(0,n.jsx)("div",{className:"text-sm text-muted-foreground space-y-2",children:s.map((e,t)=>(0,n.jsx)("p",{children:e},t))})]})},t)})})}function v(){let e=(0,s.useSearchParams)().get("entryId"),[t,r]=(0,a.useState)(null),[y,v]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{e&&(r((0,l.O7)(e)||null),v(!1))},[e]),y)?(0,n.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,n.jsx)(c.A,{className:"h-8 w-8 animate-spin text-primary"})}):t?(0,n.jsxs)("div",{className:"container mx-auto py-8",children:[(0,n.jsx)(i.$,{asChild:!0,variant:"outline",className:"mb-4",children:(0,n.jsxs)(x(),{href:"/therapeutic-notebook",children:[(0,n.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Volver al cuaderno"]})}),(0,n.jsxs)(o.Zp,{children:[(0,n.jsx)(o.aR,{className:"flex flex-col",children:(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(p.A,{className:"h-5 w-5 text-primary"}),(0,n.jsx)(o.ZB,{children:t.title})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,n.jsx)(m.A,{className:"h-4 w-4"}),(0,n.jsx)("time",{children:(0,l.As)(t.timestamp)})]}),t.pathId&&(0,n.jsx)(i.$,{asChild:!0,variant:"outline",size:"sm",children:(0,n.jsxs)(x(),{href:"/paths/detail?pathId=".concat(t.pathId),children:["Ir a la ruta ",(0,n.jsx)(f.A,{className:"ml-1 h-4 w-4"})]})})]})}),(0,n.jsx)(o.Wu,{className:"py-6",children:(0,n.jsx)(g,{content:t.content})}),(0,n.jsx)(o.wL,{className:"flex justify-end gap-2",children:(0,n.jsx)(i.$,{asChild:!0,children:(0,n.jsxs)(x(),{href:"/therapeutic-notebook",children:[(0,n.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Ver todas las entradas"]})})})]})]}):(0,n.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 text-destructive",children:[(0,n.jsx)(d.A,{className:"h-6 w-6"}),(0,n.jsx)("p",{className:"text-lg font-semibold",children:"Entrada no encontrada"})]}),(0,n.jsx)(i.$,{asChild:!0,variant:"outline",children:(0,n.jsxs)(x(),{href:"/therapeutic-notebook",children:[(0,n.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Volver al cuaderno terap\xe9utico"]})})]})}},32467:(e,t,r)=>{"use strict";r.d(t,{DX:()=>u,TL:()=>d});var n,a=r(12115),s=r(94446),l=r(95155),o=Symbol.for("react.lazy"),i=(n||(n=r.t(a,2)))[" use ".trim().toString()];function c(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===o&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function d(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(c(r)&&"function"==typeof i&&(r=i(r._payload)),a.isValidElement(r)){var l;let e,o,i=(l=r,(o=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(o=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),c=function(e,t){let r={...t};for(let n in t){let a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...e)=>{let t=s(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...s}:"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(c.ref=t?(0,s.t)(t,i):i),a.cloneElement(r,c)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...s}=e;c(n)&&"function"==typeof i&&(n=i(n._payload));let o=a.Children.toArray(n),d=o.find(m);if(d){let e=d.props.children,n=o.map(t=>t!==d?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...s,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,l.jsx)(t,{...s,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var u=d("Slot"),p=Symbol("radix.slottable");function m(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}},35299:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},35626:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},52056:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},52987:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var n=r(2821),a=r(75889);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}},71046:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("NotebookText",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]])},79533:(e,t,r)=>{Promise.resolve().then(r.bind(r,30552))},83101:(e,t,r)=>{"use strict";r.d(t,{F:()=>l});var n=r(2821);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=n.$,l=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:o}=t,i=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],n=null==o?void 0:o[e];if(null===t)return null;let s=a(t)||a(n);return l[e][s]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return s(e,i,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...c}[t]):({...o,...c})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},86948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>l,aR:()=>o,wL:()=>u});var n=r(95155),a=r(12115),s=r(64269);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});i.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-base",r),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},94446:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>s});var n=r(12115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,n=e.map(e=>{let n=a(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():a(e[t],null)}}}}function l(...e){return n.useCallback(s(...e),e)}}},e=>{e.O(0,[5380,9779,2619,8441,1255,7358],()=>e(e.s=79533)),_N_E=e.O()}]);