"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{31120:(e,a,s)=>{s.d(a,{T:()=>n});var r=s(95155),l=s(12115),t=s(64269);let n=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...l})});n.displayName="Textarea"},35626:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},46046:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},50909:(e,a,s)=>{s.d(a,{C:()=>o,z:()=>c});var r=s(95155),l=s(12115),t=s(24058),n=s(99051),i=s(64269);let c=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)(t.bL,{className:(0,i.cn)("grid gap-2",s),...l,ref:a})});c.displayName=t.bL.displayName;let o=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)(t.q7,{ref:a,className:(0,i.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...l,children:(0,r.jsx)(t.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(n.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=t.q7.displayName},52987:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},76444:(e,a,s)=>{s.d(a,{J:()=>o});var r=s(95155),l=s(12115),t=s(32894),n=s(83101),i=s(64269);let c=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)(t.b,{ref:a,className:(0,i.cn)(c(),s),...l})});o.displayName=t.b.displayName},78108:(e,a,s)=>{s.d(a,{Z:()=>l});var r=s(12115);function l(e){let a=r.useRef({value:e,previous:e});return r.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},84288:(e,a,s)=>{s.d(a,{X:()=>t});var r=s(12115),l=s(4129);function t(e){let[a,s]=r.useState(void 0);return(0,l.N)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let a=new ResizeObserver(a=>{let r,l;if(!Array.isArray(a)||!a.length)return;let t=a[0];if("borderBoxSize"in t){let e=t.borderBoxSize,a=Array.isArray(e)?e[0]:e;r=a.inlineSize,l=a.blockSize}else r=e.offsetWidth,l=e.offsetHeight;s({width:r,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}s(void 0)},[e]),a}},90031:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var r=s(95155),l=s(12115),t=s(86948),n=s(3998),i=s(76444),c=s(31120),o=s(50909),d=s(15894),u=s(52987),m=s(35626),x=s(46046),p=s(42529),f=s(90799),h=s(28051),j=s(29141),b=s(64269);function v(e){let{content:a,pathId:s,onComplete:v}=e,{toast:g}=(0,d.dj)(),{user:N}=(0,j.J)(),[y,w]=(0,l.useState)(0),[A,k]=(0,l.useState)(""),[C,S]=(0,l.useState)(Array(7).fill("")),[z,E]=(0,l.useState)(""),[q,H]=(0,l.useState)([]),[M,R]=(0,l.useState)(null);(0,l.useEffect)(()=>{3===y&&H(C.filter(e=>e.trim()))},[y,C]);let $=(0,l.useCallback)(e=>{R(e)},[]),D=(0,l.useCallback)(e=>{e.preventDefault()},[]),P=(0,l.useCallback)(e=>{if(null===M||M===e)return void R(null);let a=[...q],[s]=a.splice(M,1);a.splice(e,0,s),H(a),R(null)},[M,q]),T=()=>w(e=>e+1),B=()=>w(e=>e>0?e-1:0),L=()=>{w(0),k(""),S(Array(7).fill("")),E(""),H([]),R(null)},_=e=>{e.preventDefault();let a=C.filter(e=>""!==e.trim());if(!A.trim()||0===a.length||!z.trim())return void g({title:"Datos incompletos",description:"Por favor, define tu meta, al menos un escal\xf3n y elige tu primer paso.",variant:"destructive"});let r="\n**Ejercicio: Mi Escalera de Exposici\xf3n**\n\n**Meta:** ".concat(A,"\n**Escalones:**\n").concat(C.filter(e=>e.trim()).map((e,a)=>"".concat(a+1,". ").concat(e)).join("\n"),"\n\n**Mi primer paso ser\xe1:** ").concat(z,"\n    ");(0,h.R1)({title:"Mi Escalera de Exposici\xf3n",content:r,pathId:s,userId:null==N?void 0:N.id}),g({title:"Escalera Guardada"}),v(),T()};return(0,r.jsxs)(t.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{className:"text-lg text-accent flex items-center",children:[(0,r.jsx)(f.A,{className:"mr-2"}),a.title]}),a.objective&&(0,r.jsxs)(t.BT,{className:"pt-2",children:[a.objective,a.audioUrl&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("audio",{controls:!0,controlsList:"nodownload",className:"w-full",children:[(0,r.jsx)("source",{src:a.audioUrl,type:"audio/mp3"}),"Tu navegador no soporta el elemento de audio."]})})]})]}),(0,r.jsx)(t.Wu,{children:(()=>{switch(y){case 0:return(0,r.jsxs)("div",{className:"p-4 text-center",children:[(0,r.jsx)("p",{className:"text-sm mb-4",children:"Imagina que cada situaci\xf3n que temes es un escal\xf3n de una escalera. Hoy vamos a construir juntos tu escalera de exposici\xf3n: desde lo m\xe1s sencillo hasta lo m\xe1s desafiante."}),(0,r.jsxs)(n.$,{onClick:T,children:["Empezar a construir ",(0,r.jsx)(u.A,{className:"ml-2 h-4 w-4"})]})]});case 1:return(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 1: Define tu meta"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"\xbfQu\xe9 situaci\xf3n ansiosa quieres poder afrontar en el futuro?"}),(0,r.jsx)(c.T,{id:"goal",value:A,onChange:e=>k(e.target.value),placeholder:"Ej: Hablar en p\xfablico en una reuni\xf3n de trabajo"}),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(n.$,{onClick:B,variant:"outline",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsx)(n.$,{onClick:T,disabled:!A.trim(),children:"Siguiente"})]})]});case 2:return(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 2: Divide en escalones"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ahora divide esa situaci\xf3n en escalones m\xe1s peque\xf1os."}),(0,r.jsxs)("div",{className:"text-sm italic p-2 border-l-2 border-accent bg-accent/10",children:[(0,r.jsx)("p",{children:"Cada escal\xf3n debe ser lo bastante sencillo para poder intentarlo y lo bastante desafiante para activar algo de ansiedad sin bloquearte."}),(0,r.jsx)("p",{className:"font-semibold mt-2",children:"Ejemplo:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside",children:[(0,r.jsx)("li",{children:"Hablar 2 minutos frente al espejo."}),(0,r.jsx)("li",{children:"Grabarme en audio y escucharme."}),(0,r.jsx)("li",{children:"Mandar el audio a varias personas de mi confianza."}),(0,r.jsx)("li",{children:"Contarle la presentaci\xf3n a una persona de confianza."}),(0,r.jsx)("li",{children:"Hacerlo en un grupo de 3 personas."}),(0,r.jsx)("li",{children:"Presentar en una reuni\xf3n peque\xf1a."}),(0,r.jsx)("li",{children:"Presentar en la reuni\xf3n general."})]})]}),C.map((e,a)=>(0,r.jsx)(c.T,{value:e,onChange:e=>((e,a)=>{let s=[...C];s[e]=a,S(s)})(a,e.target.value),placeholder:"Escal\xf3n ".concat(a+1)},a)),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(n.$,{onClick:B,variant:"outline",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsx)(n.$,{onClick:T,children:"Siguiente"})]})]});case 3:return(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 3: Ordena tus escalones"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Arrastra y suelta los escalones para ordenarlos del m\xe1s f\xe1cil (arriba) al m\xe1s dif\xedcil (abajo)."}),(0,r.jsx)("ul",{className:"space-y-2",children:q.map((e,a)=>(0,r.jsxs)("li",{draggable:!0,onDragStart:()=>$(a),onDragOver:D,onDrop:()=>P(a),className:(0,b.cn)("p-3 border rounded-md cursor-grab bg-background shadow-sm hover:shadow-md transition-shadow",M===a&&"opacity-50 ring-2 ring-primary"),children:[a+1,". ",e]},e+a))}),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(n.$,{onClick:B,variant:"outline",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsx)(n.$,{onClick:()=>{let e=[...q];for(;e.length<7;)e.push("");S(e),T()},children:"Siguiente"})]})]});case 4:return(0,r.jsxs)("form",{onSubmit:_,className:"p-4 space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 4: Elige tu primer paso"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"\xbfCu\xe1l ser\xe1 el primer paso realista que puedes poner en pr\xe1ctica esta semana?"}),(0,r.jsx)(o.z,{value:z,onValueChange:E,children:C.filter(e=>e.trim()).map((e,a)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.C,{value:e,id:"step-radio-".concat(a)}),(0,r.jsx)(i.J,{htmlFor:"step-radio-".concat(a),className:"font-normal",children:e})]},a))}),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(n.$,{onClick:B,variant:"outline",type:"button",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsxs)(n.$,{type:"submit",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Guardar mi escalera en el cuaderno terap\xe9utico"]})]})]});case 5:return(0,r.jsxs)("div",{className:"p-6 text-center space-y-4 animate-in fade-in-0 duration-500",children:[(0,r.jsx)(p.A,{className:"h-12 w-12 text-green-500 mx-auto"}),(0,r.jsx)("h4",{className:"font-bold text-lg",children:"Has dise\xf1ado tu propia escalera de exposici\xf3n."}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Cada pelda\xf1o que subas ser\xe1 un entrenamiento para tu confianza. Recuerda: no necesitas subir de golpe. Basta con dar un paso, mantenerte, y volver a intentarlo. Con cada pr\xe1ctica, tu cerebro aprende que eres m\xe1s capaz de lo que imaginas."}),(0,r.jsx)(n.$,{onClick:L,variant:"outline",className:"w-full",children:"Hacer otra escalera"})]});default:return null}})()})]})}}}]);