"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3282],{31120:(e,s,a)=>{a.d(s,{T:()=>t});var r=a(95155),i=a(12115),l=a(64269);let t=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});t.displayName="Textarea"},32894:(e,s,a)=>{a.d(s,{b:()=>n});var r=a(12115);a(47650);var i=a(32467),l=a(95155),t=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let a=(0,i.TL)(`Primitive.${s}`),t=r.forwardRef((e,r)=>{let{asChild:i,...t}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(i?a:s,{...t,ref:r})});return t.displayName=`Primitive.${s}`,{...e,[s]:t}},{}),d=r.forwardRef((e,s)=>(0,l.jsx)(t.label,{...e,ref:s,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));d.displayName="Label";var n=d},35626:(e,s,a)=>{a.d(s,{A:()=>r});let r=(0,a(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},46046:(e,s,a)=>{a.d(s,{A:()=>r});let r=(0,a(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},52987:(e,s,a)=>{a.d(s,{A:()=>r});let r=(0,a(71847).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},76444:(e,s,a)=>{a.d(s,{J:()=>c});var r=a(95155),i=a(12115),l=a(32894),t=a(83101),d=a(64269);let n=(0,t.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(l.b,{ref:s,className:(0,d.cn)(n(),a),...i})});c.displayName=l.b.displayName},93282:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});var r=a(95155),i=a(12115),l=a(86948),t=a(3998),d=a(76444),n=a(31120),c=a(15894),o=a(52987),u=a(35626),m=a(46046),x=a(42529),p=a(90799),f=a(28051),h=a(13496),j=a(29141);function v(e){let{content:s,pathId:a,onComplete:v}=e,{toast:N}=(0,c.dj)(),{user:b}=(0,j.J)(),[g,y]=(0,i.useState)(0),[w,k]=(0,i.useState)(["","",""]),[A,C]=(0,i.useState)([,,,].fill({difficult:"",resources:"",learned:"",surprised:""})),[q,L]=(0,i.useState)(!1),T=(e,s,a)=>{let r=[...A];r[e]={...r[e],[s]:a},C(r)},R=()=>y(e=>e+1),$=()=>y(e=>e>0?e-1:0),S=()=>{y(0),k(["","",""]),C([,,,].fill({difficult:"",resources:"",learned:"",surprised:""})),L(!1)},E=()=>{let e=w.map((e,s)=>({situation:e,reflection:A[s]})).filter(e=>""!==e.situation.trim());if(0===e.length)return void N({title:"Ejercicio incompleto",description:"Por favor, describe al menos una situaci\xf3n para guardar tu l\xednea de tiempo.",variant:"destructive"});let r="**".concat(s.title,"**\n\n");e.forEach(e=>{r+="**Situaci\xf3n:** ".concat(e.situation,"\n"),r+="- Lo m\xe1s dif\xedcil: ".concat(e.reflection.difficult||"No especificado.","\n"),r+="- Recursos que us\xe9: ".concat(e.reflection.resources||"No especificado.","\n"),r+="- Lo que aprend\xed: ".concat(e.reflection.learned||"No especificado.","\n"),r+="- Lo que me sorprendi\xf3 de m\xed: ".concat(e.reflection.surprised||"No especificado.","\n\n---\n\n")}),(0,f.R1)({title:"Mi L\xednea del Tiempo Resiliente",content:r,pathId:a,userId:null==b?void 0:b.id}),N({title:"L\xednea de Tiempo Guardada"}),L(!0),v(),R()};return(0,r.jsxs)(l.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"text-lg text-accent flex items-center",children:[(0,r.jsx)(p.A,{className:"mr-2"}),s.title]}),(0,r.jsxs)(l.BT,{className:"pt-2",children:[s.objective,(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("audio",{controls:!0,controlsList:"nodownload",className:"w-full",children:[(0,r.jsx)("source",{src:s.audioUrl,type:"audio/mp3"}),"Tu navegador no soporta el elemento de audio."]})})]})]}),(0,r.jsx)(l.Wu,{children:(()=>{switch(g){case 0:return(0,r.jsxs)("div",{className:"p-4 space-y-4 text-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Todos hemos atravesado dificultades. Hoy te propongo mirar atr\xe1s no para quedarte ah\xed, sino para descubrir qu\xe9 te ayud\xf3 a salir adelante."}),(0,r.jsx)(h.nD,{type:"single",collapsible:!0,className:"w-full text-left",children:(0,r.jsxs)(h.As,{value:"example",children:[(0,r.jsx)(h.$m,{children:"Ver ejemplos"}),(0,r.jsx)(h.ub,{children:(0,r.jsxs)("div",{className:"space-y-4 p-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Cambio de ciudad sin red de apoyo"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Lo m\xe1s dif\xedcil fue sentirme sola. Us\xe9 rutinas como salir a caminar para darme estabilidad. Aprend\xed que puedo adaptarme y que el coraje silencioso sostiene desde dentro."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Ruptura amorosa inesperada"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Lo m\xe1s dif\xedcil fue la p\xe9rdida de un futuro imaginado. Ped\xed ayuda a una terapeuta, escrib\xed en un diario y me permit\xed llorar. Aprend\xed que puedo sostenerme incluso cuando lo que so\xf1aba se desvanece."})]})]})})]})}),(0,r.jsxs)(t.$,{onClick:R,children:["Empezar mi l\xednea del tiempo ",(0,r.jsx)(o.A,{className:"ml-2 h-4 w-4"})]})]});case 1:return(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Paso 1: Selecciona tres momentos dif\xedciles"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Elige 3 situaciones importantes en tu vida en las que sentiste que estabas en crisis o pas\xe1ndolo mal."}),w.map((e,s)=>(0,r.jsx)(n.T,{value:e,onChange:e=>((e,s)=>{let a=[...w];a[e]=s,k(a)})(s,e.target.value),placeholder:"Situaci\xf3n ".concat(s+1)},s)),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(t.$,{onClick:$,variant:"outline",children:[(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsxs)(t.$,{onClick:R,disabled:w.every(e=>!e.trim()),children:["Siguiente ",(0,r.jsx)(o.A,{className:"ml-2 h-4 w-4"})]})]})]});case 2:return(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Paso 2: Reflexiona sobre cada una"}),w.map((e,s)=>e.trim()&&(0,r.jsxs)("div",{className:"p-3 border rounded-md",children:[(0,r.jsx)("h5",{className:"font-medium",children:e}),(0,r.jsxs)("div",{className:"space-y-2 mt-2",children:[(0,r.jsx)(d.J,{children:"\xbfQu\xe9 fue lo m\xe1s dif\xedcil?"}),(0,r.jsx)(n.T,{value:A[s].difficult,onChange:e=>T(s,"difficult",e.target.value)}),(0,r.jsx)(d.J,{children:"\xbfQu\xe9 recursos us\xe9?"}),(0,r.jsx)(n.T,{value:A[s].resources,onChange:e=>T(s,"resources",e.target.value)}),(0,r.jsx)(d.J,{children:"\xbfQu\xe9 aprend\xed?"}),(0,r.jsx)(n.T,{value:A[s].learned,onChange:e=>T(s,"learned",e.target.value)}),(0,r.jsx)(d.J,{children:"\xbfQu\xe9 me sorprendi\xf3 de m\xed?"}),(0,r.jsx)(n.T,{value:A[s].surprised,onChange:e=>T(s,"surprised",e.target.value)})]})]},s)),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(t.$,{onClick:$,variant:"outline",children:[(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsx)(t.$,{onClick:R,children:"Ver mi l\xednea de resiliencia"})]})]});case 3:return(0,r.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,r.jsx)("h3",{className:"font-bold text-center text-lg text-primary",children:"Tu L\xednea de Resiliencia"}),(0,r.jsx)("p",{className:"text-sm text-center text-muted-foreground",children:"Esta es una s\xedntesis de lo que has explorado. Cada punto es un testimonio de tu capacidad para seguir adelante."}),(0,r.jsxs)("div",{className:"relative pl-8 pt-4",children:[(0,r.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-border"}),(0,r.jsx)("div",{className:"space-y-8",children:w.map((e,s)=>{if(!e.trim())return null;let a=A[s];return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute -left-1.5 top-1 h-4 w-4 rounded-full bg-primary ring-4 ring-background"}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsxs)(l.Zp,{className:"bg-background/50",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-base",children:e})}),(0,r.jsxs)(l.Wu,{className:"text-sm space-y-2",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Lo m\xe1s dif\xedcil:"})," ",a.difficult||"No especificado."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Recursos que us\xe9:"})," ",a.resources||"No especificado."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Lo que aprend\xed:"})," ",a.learned||"No especificado."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Lo que me sorprendi\xf3 de m\xed:"})," ",a.surprised||"No especificado."]})]})]})})]},s)})})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 justify-center mt-6",children:[(0,r.jsx)(t.$,{onClick:$,variant:"outline",children:"Atr\xe1s"}),(0,r.jsxs)(t.$,{onClick:E,disabled:q,children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),q?"Guardado":"Guardar en mi Cuaderno"]})]})]});case 4:return(0,r.jsxs)("div",{className:"p-6 text-center space-y-4",children:[(0,r.jsx)(x.A,{className:"h-12 w-12 text-green-500 mx-auto"}),(0,r.jsx)("h4",{className:"font-bold text-lg",children:"L\xednea de Tiempo Guardada"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Tu historia de resiliencia ha sido guardada. Puedes volver a consultarla en tu cuaderno para recordar tu fortaleza."}),(0,r.jsx)(t.$,{onClick:S,variant:"outline",className:"w-full",children:"Empezar de nuevo"})]});default:return null}})()})]})}}}]);