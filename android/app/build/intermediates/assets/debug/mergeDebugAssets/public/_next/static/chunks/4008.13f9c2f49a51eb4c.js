"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4008],{31120:(e,s,a)=>{a.d(s,{T:()=>n});var i=a(95155),l=a(12115),t=a(64269);let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,i.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});n.displayName="Textarea"},35626:(e,s,a)=>{a.d(s,{A:()=>i});let i=(0,a(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},46046:(e,s,a)=>{a.d(s,{A:()=>i});let i=(0,a(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},94008:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var i=a(95155),l=a(12115),t=a(86948),n=a(3998),r=a(31120),d=a(15894),o=a(90799),c=a(35626),u=a(46046),m=a(42529),f=a(28051),h=a(29141);function x(e){let{content:s,pathId:a,onComplete:x}=e,{toast:p}=(0,d.dj)(),{user:j}=(0,h.J)(),[v,b]=(0,l.useState)({differentAction:"",selfTalk:"",toolUsed:""}),[g,N]=(0,l.useState)(!1);function y(e,s){b(a=>({...a,[e]:s}))}return(0,i.jsxs)(t.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,i.jsxs)(t.aR,{children:[(0,i.jsxs)(t.ZB,{className:"text-lg text-accent flex items-center",children:[(0,i.jsx)(o.A,{className:"mr-2"}),s.title]}),s.objective&&(0,i.jsxs)(t.BT,{className:"pt-2",children:[s.objective,s.audioUrl&&(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsxs)("audio",{controls:!0,controlsList:"nodownload",className:"w-full",children:[(0,i.jsx)("source",{src:s.audioUrl,type:"audio/mp3"}),"Tu navegador no soporta el elemento de audio."]})})]})]}),(0,i.jsx)(t.Wu,{children:(0,i.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!v.differentAction.trim()&&!v.selfTalk.trim()&&!v.toolUsed.trim())return void p({title:"Reflexi\xf3n vac\xeda",description:"Por favor, escribe algo en al menos uno de los campos.",variant:"destructive"});let i="\n**Ejercicio: ".concat(s.title,"**\n\n**\xbfQu\xe9 har\xedas diferente?**\n").concat(v.differentAction||"No especificado.","\n\n**\xbfQu\xe9 te dir\xedas?**\n").concat(v.selfTalk||"No especificado.","\n\n**\xbfQu\xe9 herramienta usar\xedas primero?**\n").concat(v.toolUsed||"No especificado.","\n    ");(0,f.R1)({title:"Ensayo de Crisis Imaginaria",content:i,pathId:a,userId:null==j?void 0:j.id}),p({title:"Ensayo Guardado",description:"Tu reflexi\xf3n ha sido guardada en el cuaderno."}),N(!0),x()},className:"space-y-6",children:[(0,i.jsxs)("div",{className:"text-sm text-foreground/80 space-y-2",children:[(0,i.jsx)("p",{className:"font-semibold",children:"C\xf3mo hacerlo:"}),(0,i.jsxs)("ul",{className:"list-disc list-inside pl-4 space-y-1",children:[(0,i.jsx)("li",{children:"Visualiza un momento en que el estr\xe9s te haya superado en el pasado."}),(0,i.jsx)("li",{children:"Imagina esa misma situaci\xf3n con los recursos que tienes hoy."}),(0,i.jsx)("li",{children:"Reflexiona y escribe:"})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h4",{className:"font-semibold",children:"\xbfQu\xe9 har\xedas diferente?"}),(0,i.jsx)(r.T,{id:"differentAction",value:v.differentAction,onChange:e=>y("differentAction",e.target.value),placeholder:"Describe la nueva acci\xf3n o respuesta...",disabled:g})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h4",{className:"font-semibold",children:"\xbfQu\xe9 te dir\xedas?"}),(0,i.jsx)(r.T,{id:"selfTalk",value:v.selfTalk,onChange:e=>y("selfTalk",e.target.value),placeholder:"Escribe la frase o el di\xe1logo interno que usar\xedas...",disabled:g})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h4",{className:"font-semibold",children:"\xbfQu\xe9 herramienta usar\xedas primero?"}),(0,i.jsx)(r.T,{id:"toolUsed",value:v.toolUsed,onChange:e=>y("toolUsed",e.target.value),placeholder:"Piensa en una t\xe9cnica de respiraci\xf3n, un ancla, etc.",disabled:g})]}),g?(0,i.jsxs)("div",{className:"flex items-center justify-center p-3 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 rounded-md",children:[(0,i.jsx)(m.A,{className:"mr-2 h-5 w-5"}),(0,i.jsx)("p",{className:"font-medium",children:"Tu reflexi\xf3n ha sido guardada."})]}):(0,i.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,i.jsxs)(n.$,{variant:"outline",type:"button",onClick:()=>p({title:"No hay paso anterior"}),children:[(0,i.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,i.jsxs)(n.$,{type:"submit",className:"w-auto",children:[(0,i.jsx)(u.A,{className:"mr-2 h-4 w-4"})," Guardar Reflexi\xf3n"]})]})]})})]})}}}]);