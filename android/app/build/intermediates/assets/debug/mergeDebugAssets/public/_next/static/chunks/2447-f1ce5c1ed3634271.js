(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2447],{1554:(e,r,t)=>{"use strict";t.d(r,{R8:()=>s,As:()=>l,jt:()=>d});var n=t(95155),o=t(12115),a=t(9891);function c(){let[e,r]=(0,o.useState)(null);if((0,o.useEffect)(()=>{let e=e=>{r(e)};return a.d.on("permission-error",e),()=>{a.d.off("permission-error",e)}},[]),e)throw e;return null}let i=(0,o.createContext)(void 0),s=e=>{let{children:r,firebaseApp:t,firestore:a,auth:s}=e,u=(0,o.useMemo)(()=>({firebaseApp:t,firestore:a,auth:s}),[t,a,s]);return(0,n.jsxs)(i.Provider,{value:u,children:[(0,n.jsx)(c,{}),r]})},u=()=>{let e=(0,o.useContext)(i);if(void 0===e)throw Error("useFirebase must be used within a FirebaseProvider.");if(!e.firebaseApp||!e.firestore||!e.auth)throw Error("Firebase core services not available. Check FirebaseProvider props.");return{firebaseApp:e.firebaseApp,firestore:e.firestore,auth:e.auth}},l=()=>{let{auth:e}=u();return e},d=()=>{let{firestore:e}=u();return e}},9891:(e,r,t)=>{"use strict";t.d(r,{d:()=>n});let n=function(){let e={};return{on(r,t){var n;e[r]||(e[r]=[]),null==(n=e[r])||n.push(t)},off(r,t){var n;e[r]&&(e[r]=null==(n=e[r])?void 0:n.filter(e=>e!==t))},emit(r,t){var n;e[r]&&(null==(n=e[r])||n.forEach(e=>e(t)))}}}()},15742:(e,r,t)=>{"use strict";t.d(r,{wu:()=>c});var n=t(19708),o=t(9891),a=t(86501);function c(e,r,t){(0,n.BN)(e,r,t).catch(t=>{o.d.emit("permission-error",new a.$({path:e.path,operation:"write",requestResourceData:r}))})}},47599:(e,r,t)=>{"use strict";t.d(r,{$9:()=>s,Oe:()=>i});var n=t(82257),o=t(26549);let a="".concat(o.T,"/wp-content/programacion/wscontenido.php"),c="4463";async function i(e,r){try{let t=e.id,o=e.department_code||"",{id:i,name:s,email:u,department_code:l,...d}=e,p=(0,n.Lw)(JSON.stringify(d)),f="".concat(a,"?apikey=").concat(c,"&tipo=").concat(r,"&idusuario=").concat(encodeURIComponent(t),"&token=").concat(encodeURIComponent(o),"&datos=").concat(encodeURIComponent(p));return console.log("Sending legacy data of type '".concat(r,"' to old URL...")),fetch(f,{signal:AbortSignal.timeout(15e3)}).then(e=>{e.ok?console.log("Legacy data sync for type '".concat(r,"' initiated successfully.")):console.warn("Legacy data sync failed with status: ".concat(e.status))}).catch(e=>{console.error("Error sending legacy data for type '".concat(r,"':"),e)}),{success:!0,debugUrl:f}}catch(e){return console.error("Error preparing legacy data for sending (type: ".concat(r,"):"),e),{success:!1,debugUrl:"Error creating URL"}}}async function s(e,r){try{let t="".concat(a,"?apikey=").concat(c,"&tipo=").concat(r,"&idusuario=").concat(encodeURIComponent(e));return console.log("Sending delete request for user '".concat(e,"' to legacy URL...")),fetch(t,{signal:AbortSignal.timeout(15e3)}).then(r=>{r.ok?console.log("Legacy user deletion for user '".concat(e,"' initiated successfully.")):console.warn("Legacy user deletion failed with status: ".concat(r.status))}).catch(r=>{console.error("Error sending legacy delete request for user '".concat(e,"':"),r)}),{success:!0,debugUrl:t}}catch(r){return console.error("Error preparing legacy delete request for user '".concat(e,"':"),r),{success:!1,debugUrl:"Error creating delete URL"}}}},50477:()=>{},82257:(e,r,t)=>{"use strict";t.d(r,{Lw:()=>i,xW:()=>c});var n=t(60316),o=t.n(n);let a="0123456789abcdef0123456789abcdef";function c(e){let r;try{r=JSON.parse(e)}catch(r){return console.warn("AES Decryption (Global Encryption ON): Input string is not valid JSON. Cannot decrypt as a structured payload.",e,r),null}if(r&&"object"==typeof r&&"string"==typeof r.iv&&"string"==typeof r.data)try{let e=o().enc.Base64.parse(r.iv),t=o().AES.decrypt(r.data,o().enc.Utf8.parse(a),{iv:e,mode:o().mode.CBC,padding:o().pad.Pkcs7}).toString(o().enc.Utf8);if(!t)return console.error("AES Decryption (Global Encryption ON): Decrypted string is empty. Possible key mismatch or data corruption. Original encrypted data:",r.data),null;try{return JSON.parse(t)}catch(e){return console.warn("AES Decryption (Global Encryption ON): Decrypted content is not JSON. Returning as plain string.",t),t}}catch(e){return console.error("AES Decryption (Global Encryption ON): Error during the decryption process.",e),null}return r&&"object"==typeof r&&null!==r&&("id"in r||"email"in r||"name"in r)?(console.warn("AES Decryption (Global Encryption ON): Payload does not match encrypted structure but looks like user data. Returning as is.",r),r):(console.warn("AES Decryption (Global Encryption ON): Payload is JSON but not recognized as encrypted structure or valid user data.",r),null)}function i(e){let r=o().enc.Utf8.parse(a.substring(0,16)),t=o().AES.encrypt(e,o().enc.Utf8.parse(a),{iv:r,mode:o().mode.CBC,padding:o().pad.Pkcs7});return JSON.stringify({iv:o().enc.Base64.stringify(r),data:t.toString()})}},86501:(e,r,t)=>{"use strict";t.d(r,{$:()=>o});var n=t(59253);class o extends Error{constructor(e){let r=function(e){let r=null;try{let e=(0,n.xI)().currentUser;e&&(r=function(e){var r;if(!e)return null;let t={name:e.displayName,email:e.email,email_verified:e.emailVerified,phone_number:e.phoneNumber,sub:e.uid,firebase:{identities:e.providerData.reduce((e,r)=>(r.providerId&&(e[r.providerId]=[r.uid]),e),{}),sign_in_provider:(null==(r=e.providerData[0])?void 0:r.providerId)||"custom",tenant:e.tenantId}};return{uid:e.uid,token:t}}(e))}catch(e){}return{auth:r,method:e.operation,path:"/databases/(default)/documents/".concat(e.path),resource:e.requestResourceData?{data:e.requestResourceData}:void 0}}(e);super("Missing or insufficient permissions: The following request was denied by Firestore Security Rules:\n".concat(JSON.stringify(r,null,2))),this.name="FirebaseError",this.request=r}}}}]);