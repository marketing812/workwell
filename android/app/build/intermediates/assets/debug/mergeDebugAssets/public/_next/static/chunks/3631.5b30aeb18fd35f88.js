"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3631],{31120:(e,a,s)=>{s.d(a,{T:()=>i});var r=s(95155),t=s(12115),n=s(64269);let i=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...t})});i.displayName="Textarea"},35626:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},46046:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},73631:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var r=s(95155),t=s(12115),n=s(86948),i=s(3998),l=s(31120),o=s(15894),c=s(90799),d=s(46046),u=s(42529),m=s(35626),x=s(28051),p=s(29141);function h(e){let{content:a,pathId:s,onComplete:h}=e,{toast:f}=(0,o.dj)(),{user:j}=(0,p.J)(),[g,b]=(0,t.useState)(0),[v,q]=(0,t.useState)({q1:"",q2:"",q3:"",q4:""}),[N,y]=(0,t.useState)(!1),w="exercise-progress-".concat(s,"-anxietyReframing");(0,t.useEffect)(()=>{try{let e=localStorage.getItem(w);if(e){let a=JSON.parse(e);q(a.responses||{q1:"",q2:"",q3:"",q4:""}),b(a.step||0),y(a.isSaved||!1)}}catch(e){console.error("Error loading exercise state:",e)}},[w]),(0,t.useEffect)(()=>{try{localStorage.setItem(w,JSON.stringify({step:g,responses:v,isSaved:N}))}catch(e){console.error("Error saving exercise state:",e)}},[g,v,N,w]);let k=(e,a)=>{q(s=>({...s,[e]:a}))};return(0,r.jsxs)(n.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)(n.ZB,{className:"text-lg text-primary flex items-center gap-4",children:[(0,r.jsx)(c.A,{className:"h-6 w-6"}),(0,r.jsx)("span",{children:a.title}),a.audioUrl&&(0,r.jsx)("audio",{src:a.audioUrl,controls:!0,controlsList:"nodownload",className:"h-8 max-w-[200px] sm:max-w-xs"})]})}),(0,r.jsxs)(n.Wu,{children:[0===g&&(0,r.jsxs)("div",{className:"space-y-6 p-2",children:[(0,r.jsx)("p",{className:"text-sm",children:"T\xf3mate unos minutos para integrar lo que has trabajado. No busques respuestas correctas, solo honestidad."}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"font-normal",children:"\xbfQu\xe9 he descubierto sobre la manera en que mi mente anticipa y exagera escenarios?"}),(0,r.jsx)(l.T,{id:"q1",value:v.q1,onChange:e=>k("q1",e.target.value),disabled:N})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"font-normal",children:"\xbfQu\xe9 me pasa cuando confundo posibilidad con probabilidad? \xbfQu\xe9 efecto tiene en mis decisiones?"}),(0,r.jsx)(l.T,{id:"q2",value:v.q2,onChange:e=>k("q2",e.target.value),disabled:N})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"font-normal",children:"\xbfQu\xe9 me ha servido m\xe1s para tomar distancia de los pensamientos: la t\xe9cnica STOP, el cuestionamiento de “\xbfy si…?” u otra estrategia personal?"}),(0,r.jsx)(l.T,{id:"q3",value:v.q3,onChange:e=>k("q3",e.target.value),disabled:N})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"font-normal",children:"\xbfQu\xe9 compromiso quiero llevarme para el futuro cuando aparezca la ansiedad? (ejemplo: “darme una pausa y observar antes de reaccionar”)"}),(0,r.jsx)(l.T,{id:"q4",value:v.q4,onChange:e=>k("q4",e.target.value),disabled:N})]})]}),N?(0,r.jsxs)("div",{className:"flex items-center justify-center p-3 mt-4 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 rounded-md",children:[(0,r.jsx)(u.A,{className:"mr-2 h-5 w-5"}),(0,r.jsx)("p",{className:"font-medium",children:"Tu reflexi\xf3n ha sido guardada."})]}):(0,r.jsxs)(i.$,{onClick:()=>{if(Object.values(v).some(e=>""===e.trim()))return void f({title:"Campos Incompletos",description:"Por favor, responde a todas las preguntas para guardar tu reflexi\xf3n.",variant:"destructive"});let e="\n**Ejercicio: ".concat(a.title,"**\n\n**1. \xbfQu\xe9 he descubierto sobre la manera en que mi mente anticipa y exagera escenarios?**\n").concat(v.q1,"\n\n**2. \xbfQu\xe9 me pasa cuando confundo posibilidad con probabilidad? \xbfQu\xe9 efecto tiene en mis decisiones?**\n").concat(v.q2,"\n\n**3. \xbfQu\xe9 me ha servido m\xe1s para tomar distancia de los pensamientos: la t\xe9cnica STOP, el cuestionamiento de “\xbfy si…?” u otra estrategia personal?**\n").concat(v.q3,"\n\n**4. \xbfQu\xe9 compromiso quiero llevarme para el futuro cuando aparezca la ansiedad?**\n").concat(v.q4,"\n");(0,x.R1)({title:"Reflexi\xf3n: ".concat(a.title),content:e,pathId:s,userId:null==j?void 0:j.id}),f({title:"Reflexi\xf3n Guardada",description:"Tu reflexi\xf3n ha sido guardada en tu Cuaderno Terap\xe9utico."}),y(!0),h(),b(1)},className:"w-full mt-4",children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"})," Guardar Reflexi\xf3n"]})]}),1===g&&(0,r.jsxs)("div",{className:"p-4 space-y-4 text-center animate-in fade-in-0 duration-500",children:[(0,r.jsx)(u.A,{className:"h-10 w-10 text-primary mx-auto"}),(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Resumen de tu Reflexi\xf3n"}),(0,r.jsxs)("div",{className:"text-left p-4 border rounded-md bg-background/50 space-y-3 text-sm",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Anticipaci\xf3n y exageraci\xf3n:"}),(0,r.jsx)("br",{}),v.q1]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Posibilidad vs. Probabilidad:"}),(0,r.jsx)("br",{}),v.q2]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Estrategia m\xe1s \xfatil:"}),(0,r.jsx)("br",{}),v.q3]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Mi compromiso:"}),(0,r.jsx)("br",{}),v.q4]})]}),(0,r.jsx)("p",{className:"text-sm italic pt-2",children:"Vuelve a este resumen en tu cuaderno cuando necesites recordar el poder que tienes para observar tus pensamientos sin que te arrastren."}),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(i.$,{onClick:()=>b(0),variant:"outline",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsx)(i.$,{onClick:()=>{b(0),q({q1:"",q2:"",q3:"",q4:""}),y(!1),localStorage.removeItem(w)},variant:"outline",children:"Hacer otra reflexi\xf3n"})]})]})]})]})}}}]);