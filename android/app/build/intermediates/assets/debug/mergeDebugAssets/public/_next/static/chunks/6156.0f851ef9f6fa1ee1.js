"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6156],{11186:(e,a,s)=>{s.d(a,{bq:()=>u,eb:()=>p,gC:()=>h,l6:()=>o,yv:()=>m});var r=s(95155),l=s(12115),t=s(4729),i=s(24033),n=s(12108),c=s(5917),d=s(64269);let o=t.bL;t.YJ;let m=t.WT,u=l.forwardRef((e,a)=>{let{className:s,children:l,...n}=e;return(0,r.jsxs)(t.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[l,(0,r.jsx)(t.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=t.l9.displayName;let x=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)(t.PP,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});x.displayName=t.PP.displayName;let f=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)(t.wn,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=t.wn.displayName;let h=l.forwardRef((e,a)=>{let{className:s,children:l,position:i="popper",...n}=e;return(0,r.jsx)(t.ZL,{children:(0,r.jsxs)(t.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...n,children:[(0,r.jsx)(x,{}),(0,r.jsx)(t.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,r.jsx)(f,{})]})})});h.displayName=t.UC.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)(t.JU,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...l})}).displayName=t.JU.displayName;let p=l.forwardRef((e,a)=>{let{className:s,children:l,...i}=e;return(0,r.jsxs)(t.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(t.VF,{children:(0,r.jsx)(c.A,{className:"h-4 w-4"})})}),(0,r.jsx)(t.p4,{children:l})]})});p.displayName=t.q7.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)(t.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...l})}).displayName=t.wv.displayName},31120:(e,a,s)=>{s.d(a,{T:()=>i});var r=s(95155),l=s(12115),t=s(64269);let i=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...l})});i.displayName="Textarea"},35626:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},46046:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},50909:(e,a,s)=>{s.d(a,{C:()=>d,z:()=>c});var r=s(95155),l=s(12115),t=s(24058),i=s(99051),n=s(64269);let c=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)(t.bL,{className:(0,n.cn)("grid gap-2",s),...l,ref:a})});c.displayName=t.bL.displayName;let d=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)(t.q7,{ref:a,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...l,children:(0,r.jsx)(t.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(i.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=t.q7.displayName},52987:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},76156:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var r=s(95155),l=s(12115),t=s(86948),i=s(3998),n=s(76444),c=s(11186),d=s(50909),o=s(31120),m=s(15894),u=s(52987),x=s(35626),f=s(42529),h=s(46046),p=s(90799),j=s(28051),g=s(50168),N=s(29141);let b=[{value:"gratitud",label:"Gratitud"},{value:"frustracion",label:"Frustraci\xf3n"},{value:"cansancio",label:"Cansancio"},{value:"alegria",label:"Alegr\xeda"},{value:"inseguridad",label:"Inseguridad"},{value:"curiosidad",label:"Curiosidad"}];function v(e){let{content:a,pathId:s,onComplete:v}=e,{toast:y}=(0,m.dj)();(0,g.c)();let{user:w}=(0,N.J)(),[A,C]=(0,l.useState)(0),[k,R]=(0,l.useState)(""),[S,E]=(0,l.useState)(""),[q,J]=(0,l.useState)(""),[z,F]=(0,l.useState)(""),[L,M]=(0,l.useState)(!1),[T,O]=(0,l.useState)(!1),$="exercise-progress-".concat(s,"-").concat(a.type);(0,l.useEffect)(()=>{M(!0);try{let e=localStorage.getItem($);if(e){let a=JSON.parse(e);C(a.step||0),R(a.selectedEmotion||""),E(a.otherEmotion||""),J(a.anchorAction||""),F(a.otherAnchorAction||""),O(a.isSaved||!1)}}catch(e){console.error("Error loading exercise state:",e)}},[$]),(0,l.useEffect)(()=>{if(L)try{localStorage.setItem($,JSON.stringify({step:A,selectedEmotion:k,otherEmotion:S,anchorAction:q,otherAnchorAction:z,isSaved:T}))}catch(e){console.error("Error saving exercise state:",e)}},[A,k,S,q,z,T,$,L]);let P=()=>{var e;let r="otra"===k?S:(null==(e=b.find(e=>e.value===k))?void 0:e.label)||k,l="Otra"===q?z:q;if(!r.trim()||!l.trim())return void y({title:"Incompleto",description:"Por favor, completa la emoci\xf3n y la acci\xf3n.",variant:"destructive"});let t="\n**".concat(a.title,": Registro Diario**\n\n*Mi emoci\xf3n de hoy:* ").concat(r,"\n*Mi microacci\xf3n de anclaje:* ").concat(l,"\n");(0,j.R1)({title:"Diario de una palabra: ".concat(r),content:t,pathId:s,userId:null==w?void 0:w.id}),y({title:"Registro Diario Guardado"}),O(!0),v(),G()},G=()=>C(e=>e+1),I=()=>C(e=>e-1),U=()=>{C(0),R(""),E(""),J(""),F(""),O(!1)};return L?(0,r.jsxs)(t.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{className:"text-lg text-accent flex items-center",children:[(0,r.jsx)(p.A,{className:"mr-2"}),a.title]}),a.objective&&(0,r.jsxs)(t.BT,{className:"pt-2",children:[a.objective,a.audioUrl&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("audio",{controls:!0,controlsList:"nodownload",className:"w-full",children:[(0,r.jsx)("source",{src:a.audioUrl,type:"audio/mp3"}),"Tu navegador no soporta el elemento de audio."]})})]})]}),(0,r.jsx)(t.Wu,{children:(()=>{var e;let a="otra"===k?S:(null==(e=b.find(e=>e.value===k))?void 0:e.label)||k,s="Otra"===q?z:q;switch(A){case 0:return(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"\xbfQu\xe9 emoci\xf3n resume mejor tu d\xeda hasta ahora?"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Puedes elegir de una lista emocional o escribirla libremente."}),(0,r.jsxs)(c.l6,{value:k,onValueChange:e=>{R(e),"otra"!==e&&E("")},children:[(0,r.jsx)(c.bq,{children:(0,r.jsx)(c.yv,{placeholder:"Elige una emoci\xf3n..."})}),(0,r.jsxs)(c.gC,{children:[b.map(e=>(0,r.jsx)(c.eb,{value:e.value,children:e.label},e.value)),(0,r.jsx)(c.eb,{value:"otra",children:"Otra..."})]})]}),"otra"===k&&(0,r.jsx)(o.T,{value:S,onChange:e=>E(e.target.value),placeholder:"Escribe tu emoci\xf3n aqu\xed...",className:"mt-2"}),(0,r.jsx)("div",{className:"flex justify-end w-full mt-2",children:(0,r.jsxs)(i.$,{onClick:G,disabled:!a.trim(),children:["Siguiente ",(0,r.jsx)(u.A,{className:"ml-2 h-4 w-4"})]})})]});case 1:return(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsxs)("p",{children:["Has sentido: ",(0,r.jsx)("strong",{children:a}),"."]}),(0,r.jsx)("p",{children:'Recon\xf3celo con respeto: "Me permito reconocerlo, sin juzgarlo y con aceptaci\xf3n".'}),(0,r.jsx)("p",{className:"italic text-primary pt-2",children:"“No hace falta que entiendas del todo lo que sientes. Basta con permitirte sentirlo sin pelear.”"}),(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsxs)(i.$,{onClick:I,variant:"outline",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsxs)(i.$,{onClick:G,className:"w-auto",children:["Siguiente ",(0,r.jsx)(u.A,{className:"ml-2 h-4 w-4"})]})]})]});case 2:return(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Elige una microacci\xf3n para anclar el ejercicio:"}),(0,r.jsxs)(d.z,{value:q,onValueChange:J,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.C,{value:"Respirar con esta emoci\xf3n durante 3 ciclos",id:"a1"}),(0,r.jsx)(n.J,{htmlFor:"a1",className:"font-normal",children:"Respirar con esta emoci\xf3n durante 3 ciclos"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.C,{value:"Llevar esta frase conmigo como una compa\xf1era",id:"a2"}),(0,r.jsx)(n.J,{htmlFor:"a2",className:"font-normal",children:"Llevar esta frase conmigo como una compa\xf1era"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.C,{value:"Agradecerme por haberme escuchado",id:"a3"}),(0,r.jsx)(n.J,{htmlFor:"a3",className:"font-normal",children:"Agradecerme por haberme escuchado"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.C,{value:"Otra",id:"a4"}),(0,r.jsx)(n.J,{htmlFor:"a4",className:"font-normal",children:"Otra:"})]})]}),"Otra"===q&&(0,r.jsx)(o.T,{value:z,onChange:e=>F(e.target.value),placeholder:"Escribe tu frase o acci\xf3n libre...",className:"ml-6"}),(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsxs)(i.$,{onClick:I,variant:"outline",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsx)(i.$,{onClick:G,className:"w-auto",disabled:!s.trim(),children:"Ver resumen y Guardar"})]})]});case 3:return(0,r.jsxs)("div",{className:"p-4 space-y-4 text-center",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Tu registro de hoy"}),(0,r.jsxs)("div",{className:"text-left border p-3 rounded-md bg-background/50",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Emoci\xf3n:"})," ",a]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Acci\xf3n de anclaje:"})," ",s]})]}),(0,r.jsx)("div",{className:"flex flex-col sm:flex-row gap-2 justify-center pt-2",children:(0,r.jsx)(i.$,{onClick:P,className:"w-full",disabled:T,children:T?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Guardado"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Guardar en el cuaderno terap\xe9utico"]})})}),(0,r.jsx)(i.$,{variant:"link",onClick:I,children:"Atr\xe1s"})]});case 4:return(0,r.jsxs)("div",{className:"p-4 text-center space-y-4",children:[(0,r.jsx)(f.A,{className:"h-12 w-12 text-green-500 mx-auto"}),(0,r.jsx)("h4",{className:"font-bold text-lg",children:"\xa1Pr\xe1ctica Guardada!"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Tu reflexi\xf3n ha sido guardada en el cuaderno."}),(0,r.jsx)(i.$,{onClick:U,variant:"outline",children:"Hacer otro registro"})]});default:return null}})()})]}):null}},76444:(e,a,s)=>{s.d(a,{J:()=>d});var r=s(95155),l=s(12115),t=s(32894),i=s(83101),n=s(64269);let c=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)(t.b,{ref:a,className:(0,n.cn)(c(),s),...l})});d.displayName=t.b.displayName}}]);