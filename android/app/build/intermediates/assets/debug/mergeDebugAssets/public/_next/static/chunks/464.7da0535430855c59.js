"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{31120:(e,a,s)=>{s.d(a,{T:()=>o});var t=s(95155),r=s(12115),l=s(64269);let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...r})});o.displayName="Textarea"},32894:(e,a,s)=>{s.d(a,{b:()=>n});var t=s(12115);s(47650);var r=s(32467),l=s(95155),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let s=(0,r.TL)(`Primitive.${a}`),o=t.forwardRef((e,t)=>{let{asChild:r,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(r?s:a,{...o,ref:t})});return o.displayName=`Primitive.${a}`,{...e,[a]:o}},{}),i=t.forwardRef((e,a)=>(0,l.jsx)(o.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var n=i},38162:(e,a,s)=>{s.d(a,{C1:()=>k,bL:()=>y});var t=s(12115),r=s(94446),l=s(3468),o=s(92556),i=s(23558),n=s(78108),d=s(84288),c=s(76842),m=s(88142),h=s(95155),u="Checkbox",[p,f]=(0,l.A)(u),[b,x]=p(u);function v(e){let{__scopeCheckbox:a,checked:s,children:r,defaultChecked:l,disabled:o,form:n,name:d,onCheckedChange:c,required:m,value:p="on",internal_do_not_use_render:f}=e,[x,v]=(0,i.i)({prop:s,defaultProp:null!=l&&l,onChange:c,caller:u}),[g,j]=t.useState(null),[y,N]=t.useState(null),k=t.useRef(!1),w=!g||!!n||!!g.closest("form"),C={checked:x,disabled:o,setChecked:v,control:g,setControl:j,name:d,form:n,value:p,hasConsumerStoppedPropagationRef:k,required:m,defaultChecked:!S(l)&&l,isFormControl:w,bubbleInput:y,setBubbleInput:N};return(0,h.jsx)(b,{scope:a,...C,children:"function"==typeof f?f(C):r})}var g="CheckboxTrigger",j=t.forwardRef((e,a)=>{let{__scopeCheckbox:s,onKeyDown:l,onClick:i,...n}=e,{control:d,value:c,disabled:u,checked:p,required:f,setControl:b,setChecked:v,hasConsumerStoppedPropagationRef:j,isFormControl:y,bubbleInput:N}=x(g,s),k=(0,r.s)(a,b),w=t.useRef(p);return t.useEffect(()=>{let e=null==d?void 0:d.form;if(e){let a=()=>v(w.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[d,v]),(0,h.jsx)(m.sG.button,{type:"button",role:"checkbox","aria-checked":S(p)?"mixed":p,"aria-required":f,"data-state":M(p),"data-disabled":u?"":void 0,disabled:u,value:c,...n,ref:k,onKeyDown:(0,o.mK)(l,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.mK)(i,e=>{v(e=>!!S(e)||!e),N&&y&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});j.displayName=g;var y=t.forwardRef((e,a)=>{let{__scopeCheckbox:s,name:t,checked:r,defaultChecked:l,required:o,disabled:i,value:n,onCheckedChange:d,form:c,...m}=e;return(0,h.jsx)(v,{__scopeCheckbox:s,checked:r,defaultChecked:l,disabled:i,required:o,onCheckedChange:d,name:t,form:c,value:n,internal_do_not_use_render:e=>{let{isFormControl:t}=e;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(j,{...m,ref:a,__scopeCheckbox:s}),t&&(0,h.jsx)(C,{__scopeCheckbox:s})]})}})});y.displayName=u;var N="CheckboxIndicator",k=t.forwardRef((e,a)=>{let{__scopeCheckbox:s,forceMount:t,...r}=e,l=x(N,s);return(0,h.jsx)(c.C,{present:t||S(l.checked)||!0===l.checked,children:(0,h.jsx)(m.sG.span,{"data-state":M(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:a,style:{pointerEvents:"none",...e.style}})})});k.displayName=N;var w="CheckboxBubbleInput",C=t.forwardRef((e,a)=>{let{__scopeCheckbox:s,...l}=e,{control:o,hasConsumerStoppedPropagationRef:i,checked:c,defaultChecked:u,required:p,disabled:f,name:b,value:v,form:g,bubbleInput:j,setBubbleInput:y}=x(w,s),N=(0,r.s)(a,y),k=(0,n.Z)(c),C=(0,d.X)(o);t.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!i.current;if(k!==c&&e){let s=new Event("click",{bubbles:a});j.indeterminate=S(c),e.call(j,!S(c)&&c),j.dispatchEvent(s)}},[j,k,c,i]);let M=t.useRef(!S(c)&&c);return(0,h.jsx)(m.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=u?u:M.current,required:p,disabled:f,name:b,value:v,form:g,...l,tabIndex:-1,ref:N,style:{...l.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function M(e){return S(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=w},46046:(e,a,s)=>{s.d(a,{A:()=>t});let t=(0,s(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},71046:(e,a,s)=>{s.d(a,{A:()=>t});let t=(0,s(71847).A)("NotebookText",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]])},73457:(e,a,s)=>{s.d(a,{S:()=>n});var t=s(95155),r=s(12115),l=s(38162),o=s(5917),i=s(64269);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.bL,{ref:a,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,t.jsx)(l.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})})});n.displayName=l.bL.displayName},76444:(e,a,s)=>{s.d(a,{J:()=>d});var t=s(95155),r=s(12115),l=s(32894),o=s(83101),i=s(64269);let n=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.b,{ref:a,className:(0,i.cn)(n(),s),...r})});d.displayName=l.b.displayName},78108:(e,a,s)=>{s.d(a,{Z:()=>r});var t=s(12115);function r(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},80464:(e,a,s)=>{s.r(a),s.d(a,{default:()=>j});var t=s(95155),r=s(12115),l=s(3998),o=s(76444),i=s(31120),n=s(15894),d=s(71046),c=s(46046),m=s(42529),h=s(28051),u=s(29141),p=s(86948),f=s(73457);let b=[{id:"cog-concentration",label:"Me cuesta concentrarme"},{id:"cog-loop",label:"Tengo pensamientos en bucle"},{id:"cog-overwhelmed",label:"Siento que no llego a todo, por m\xe1s que haga"},{id:"cog-perfectionism",label:"Me pongo muy autoexigente o perfeccionista"},{id:"cog-decisions",label:"Me cuesta tomar decisiones"}],x=[{id:"beh-avoidance",label:"Evito tareas, conversaciones o compromisos"},{id:"beh-procrastination",label:"Empiezo a procrastinar m\xe1s de lo habitual"},{id:"beh-disconnect",label:"Me desconecto de lo que me importa"},{id:"beh-irritability",label:"Estoy m\xe1s irritable o impaciente"},{id:"beh-pleasing",label:"Me vuelvo muy complaciente con los dem\xe1s"}],v=[{id:"emo-irritability",label:"Me siento m\xe1s irritable, ansioso/a o frustrado/a"},{id:"emo-apathy",label:"Me noto m\xe1s ap\xe1tico/a o desconectado/a"},{id:"emo-guilt",label:"Me invade la culpa si no estoy siendo “productivo/a”"},{id:"emo-crying",label:"Lloro con facilidad o me cuesta expresar lo que siento"},{id:"emo-overwhelmed",label:"Siento que todo me supera o me siento desbordado/a"}],g=[{id:"phy-sleep",label:"Duermo mal o me cuesta conciliar el sue\xf1o"},{id:"phy-tired",label:"Me levanto ya cansado/a o sin energ\xeda"},{id:"phy-pain",label:"Tengo dolores musculares o tensi\xf3n"},{id:"phy-appetite",label:"Se me corta el apetito o como por ansiedad"},{id:"phy-breath",label:"Me cuesta respirar profundo o noto el pecho cerrado"}];function j(e){let{content:a,pathId:s,pathTitle:j,onComplete:y}=e,{toast:N}=(0,n.dj)(),{user:k}=(0,u.J)(),[w,C]=(0,r.useState)(""),[S,M]=(0,r.useState)(!1),[R,E]=(0,r.useState)({}),[T,J]=(0,r.useState)({cognitive:"",behavioral:"",emotional:"",physical:""}),[F,A]=(0,r.useState)({}),D=(e,a)=>{E(s=>({...s,[e]:a}))},L=async e=>{if(e.preventDefault(),!w.trim()&&!a.showOverloadSignals)return void N({title:"Reflexi\xf3n Incompleta",description:"Por favor, escribe tu reflexi\xf3n antes de guardar.",variant:"destructive"});let t=a.prompts.join(""),r="\n**".concat(a.title,'**\n\n<div class="prose dark:prose-invert max-w-none">\n    ').concat(t,"\n</div>\n\n**Mi reflexi\xf3n:**\n").concat(w,"\n    ");if(a.showOverloadSignals){let e="",a=!1,s=(s,t,r,l)=>{let o=t.filter(e=>R[e.id]).map(e=>e.label);R["".concat(r,"-other")]&&l&&o.push("Otras: ".concat(l)),o.length>0&&(a=!0,e+="\n*".concat(s,":*\n").concat(o.map(e=>"  - ".concat(e)).join("\n")))};s("Cognitivas / mentales",b,"cog",T.cognitive),s("Conductuales",x,"beh",T.behavioral),s("Emocionales",v,"emo",T.emotional),s("F\xedsicas / Fisiol\xf3gicas",g,"phy",T.physical);let t=F["signals-custom-free-text"];t&&(a=!0,e+="\n\n*Otras se\xf1ales propias reconocidas:*\n".concat(t)),a&&(r+="\n\n--- \n**Se\xf1ales Comunes de Sobrecarga Reconocidas:**".concat(e))}(0,h.R1)({title:"Reflexi\xf3n: ".concat(a.title),content:r,pathId:s,ruta:j,userId:null==k?void 0:k.id}),N({title:"Reflexi\xf3n Guardada",description:"Tu reflexi\xf3n ha sido guardada en el Cuaderno Terap\xe9utico."}),M(!0),y()};return(0,t.jsxs)(p.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsxs)(p.ZB,{className:"text-lg text-accent flex items-center gap-4",children:[(0,t.jsx)(d.A,{className:"h-6 w-6"}),(0,t.jsx)("span",{children:a.title})]}),a.audioUrl&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("audio",{src:a.audioUrl,controls:!0,controlsList:"nodownload",className:"w-full"})}),(0,t.jsx)(p.BT,{className:"prose dark:prose-invert max-w-none pt-2",dangerouslySetInnerHTML:{__html:a.prompts.join("")}})]}),(0,t.jsx)(p.Wu,{children:(0,t.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"reflection-".concat(s),className:"font-semibold",children:"Escribe aqu\xed tu reflexi\xf3n personal:"}),(0,t.jsx)(i.T,{id:"reflection-".concat(s),value:w,onChange:e=>C(e.target.value),placeholder:"Lo que he descubierto esta semana es...",rows:5,disabled:S})]}),a.showOverloadSignals&&(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t mt-4",children:[(0,t.jsx)(o.J,{className:"font-semibold",children:"Se\xf1ales comunes de sobrecarga: (Selecciona todas las que reconozcas en ti. Tambi\xe9n puedes a\xf1adir otras en el campo libre.)"}),(0,t.jsxs)("div",{className:"pl-2",children:[(0,t.jsx)(o.J,{className:"font-medium",children:"Cognitivas / mentales"}),(0,t.jsxs)("div",{className:"pl-4 space-y-2 mt-1",children:[b.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.S,{id:e.id,checked:R[e.id]||!1,onCheckedChange:a=>D(e.id,a),disabled:S}),(0,t.jsx)(o.J,{htmlFor:e.id,className:"font-normal",children:e.label})]},e.id)),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.S,{id:"cog-other",checked:R["cog-other"]||!1,onCheckedChange:e=>D("cog-other",e),disabled:S}),(0,t.jsx)(o.J,{htmlFor:"cog-other",className:"font-normal",children:"Otras:"})]}),R["cog-other"]&&(0,t.jsx)(i.T,{value:T.cognitive,onChange:e=>J(a=>({...a,cognitive:e.target.value})),placeholder:"Describe tus otras se\xf1ales cognitivas...",className:"ml-6",disabled:S})]})]}),(0,t.jsxs)("div",{className:"pl-2",children:[(0,t.jsx)(o.J,{className:"font-medium",children:"Se\xf1ales conductuales"}),(0,t.jsxs)("div",{className:"pl-4 space-y-2 mt-1",children:[x.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.S,{id:e.id,checked:R[e.id]||!1,onCheckedChange:a=>D(e.id,a),disabled:S}),(0,t.jsx)(o.J,{htmlFor:e.id,className:"font-normal",children:e.label})]},e.id)),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.S,{id:"beh-other",checked:R["beh-other"]||!1,onCheckedChange:e=>D("beh-other",e),disabled:S}),(0,t.jsx)(o.J,{htmlFor:"beh-other",className:"font-normal",children:"Otras:"})]}),R["beh-other"]&&(0,t.jsx)(i.T,{value:T.behavioral,onChange:e=>J(a=>({...a,behavioral:e.target.value})),placeholder:"Describe tus otras se\xf1ales conductuales...",className:"ml-6",disabled:S})]})]}),(0,t.jsxs)("div",{className:"pl-2",children:[(0,t.jsx)(o.J,{className:"font-medium",children:"Se\xf1ales emocionales"}),(0,t.jsxs)("div",{className:"pl-4 space-y-2 mt-1",children:[v.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.S,{id:e.id,checked:R[e.id]||!1,onCheckedChange:a=>D(e.id,a),disabled:S}),(0,t.jsx)(o.J,{htmlFor:e.id,className:"font-normal",children:e.label})]},e.id)),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.S,{id:"emo-other",checked:R["emo-other"]||!1,onCheckedChange:e=>D("emo-other",e),disabled:S}),(0,t.jsx)(o.J,{htmlFor:"emo-other",className:"font-normal",children:"Otras:"})]}),R["emo-other"]&&(0,t.jsx)(i.T,{value:T.emotional,onChange:e=>J(a=>({...a,emotional:e.target.value})),placeholder:"Describe tus otras se\xf1ales emocionales...",className:"ml-6",disabled:S})]})]}),(0,t.jsxs)("div",{className:"pl-2",children:[(0,t.jsx)(o.J,{className:"font-medium",children:"Se\xf1ales f\xedsicas / Fisiol\xf3gicas"}),(0,t.jsxs)("div",{className:"pl-4 space-y-2 mt-1",children:[g.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.S,{id:e.id,checked:R[e.id]||!1,onCheckedChange:a=>D(e.id,a),disabled:S}),(0,t.jsx)(o.J,{htmlFor:e.id,className:"font-normal",children:e.label})]},e.id)),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.S,{id:"phy-other",checked:R["phy-other"]||!1,onCheckedChange:e=>D("phy-other",e),disabled:S}),(0,t.jsx)(o.J,{htmlFor:"phy-other",className:"font-normal",children:"Otras:"})]}),R["phy-other"]&&(0,t.jsx)(i.T,{value:T.physical,onChange:e=>J(a=>({...a,physical:e.target.value})),placeholder:"Describe tus otras se\xf1ales f\xedsicas...",className:"ml-6",disabled:S})]})]}),(0,t.jsxs)("div",{className:"space-y-2 pt-4",children:[(0,t.jsx)(o.J,{htmlFor:"signals-custom-free-text",className:"font-semibold",children:"\xbfQu\xe9 se\xf1ales propias reconoces en ti cuando est\xe1s empezando a sobrecargarte?"}),(0,t.jsx)(i.T,{id:"signals-custom-free-text",value:F["signals-custom-free-text"]||"",onChange:e=>{var a;return a=e.target.value,void A(e=>({...e,"signals-custom-free-text":a}))},placeholder:"Ejemplos: “Empiezo a dormir mal”, “Me desconecto emocionalmente”, “Evito tareas o conversaciones”.",disabled:S})]})]}),{}),S?(0,t.jsxs)("div",{className:"flex items-center justify-center p-3 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 rounded-md",children:[(0,t.jsx)(m.A,{className:"mr-2 h-5 w-5"}),(0,t.jsx)("p",{className:"font-medium",children:"Tu reflexi\xf3n ha sido guardada."})]}):(0,t.jsxs)(l.$,{type:"submit",className:"w-full",children:[(0,t.jsx)(c.A,{className:"mr-2 h-4 w-4"})," Guardar Reflexi\xf3n en mi Cuaderno"]})]})})]})}},84288:(e,a,s)=>{s.d(a,{X:()=>l});var t=s(12115),r=s(4129);function l(e){let[a,s]=t.useState(void 0);return(0,r.N)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let a=new ResizeObserver(a=>{let t,r;if(!Array.isArray(a)||!a.length)return;let l=a[0];if("borderBoxSize"in l){let e=l.borderBoxSize,a=Array.isArray(e)?e[0]:e;t=a.inlineSize,r=a.blockSize}else t=e.offsetWidth,r=e.offsetHeight;s({width:t,height:r})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}s(void 0)},[e]),a}}}]);