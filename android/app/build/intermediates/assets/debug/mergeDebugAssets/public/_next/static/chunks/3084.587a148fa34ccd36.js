"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3084],{31120:(e,a,s)=>{s.d(a,{T:()=>l});var r=s(95155),n=s(12115),t=s(64269);let l=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,r.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n})});l.displayName="Textarea"},35626:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},41870:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var r=s(95155),n=s(12115),t=s(86948),l=s(3998),i=s(76444),o=s(65142),c=s(31120),d=s(50909),u=s(15894),m=s(52987),x=s(35626),h=s(46046),p=s(42529),f=s(90799),j=s(28051),g=s(29141);function v(e){let{content:a,pathId:s,onComplete:v}=e,{toast:N}=(0,u.dj)(),{user:b}=(0,g.J)(),[y,w]=(0,n.useState)(0),[q,A]=(0,n.useState)([,,,,,].fill({name:"",color:"",reason:""})),[C,k]=(0,n.useState)({q1:"",q2:"",q3:"",q4:""}),[R,T]=(0,n.useState)({green:"",amber:"",red:""}),[z,E]=(0,n.useState)(!1),S=(e,a,s)=>{let r=[...q];r[e]={...r[e],[a]:s},A(r)},J=(e,a)=>{k(s=>({...s,[e]:a}))},M=(e,a)=>{T(s=>({...s,[e]:a}))},P=()=>w(e=>e+1),$=()=>w(e=>e-1),V=e=>{e.preventDefault();let r=q.filter(e=>""!==e.name.trim()&&""!==e.color.trim());if(0===r.length)return void N({title:"Ejercicio Incompleto",description:"Completa al menos una relaci\xf3n con su color.",variant:"destructive"});let n="**Ejercicio: ".concat(a.title,"**\n\n");n+="**Mapa de relaciones y su color:**\n",r.forEach(e=>{n+="- ".concat(e.name,": ").concat(e.color),e.reason?n+=" (Raz\xf3n: ".concat(e.reason,")\n"):n+="\n"}),n+="\n**Reflexi\xf3n guiada:**\n",n+="- \xbfTe ha sorprendido el color?: ".concat(C.q1||"No respondido.","\n"),n+="- \xbfNotas patrones?: ".concat(C.q2||"No respondido.","\n"),n+="- \xbfQu\xe9 relaci\xf3n sientes que necesitas revisar?: ".concat(C.q3||"No respondido.","\n"),n+="- \xbfQu\xe9 v\xednculo te gustar\xeda cuidar m\xe1s?: ".concat(C.q4||"No respondido.","\n\n"),n+="**Acciones por color:**\n",R.green&&(n+="Verde - Nutritiva: ".concat(R.green,"\n")),R.amber&&(n+="\xc1mbar - Exigente: ".concat(R.amber,"\n")),R.red&&(n+="Roja - Drenante: ".concat(R.red,"\n")),(0,j.R1)({title:"Sem\xe1foro de Implicaci\xf3n Emocional",content:n,pathId:s,userId:null==b?void 0:b.id}),N({title:"Ejercicio Guardado",description:"Tu reflexi\xf3n se ha guardado en el Cuaderno Terap\xe9utico."}),E(!0),v(),P()};return(0,r.jsxs)(t.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{className:"text-lg text-accent flex items-center",children:[(0,r.jsx)(f.A,{className:"mr-2"}),a.title]}),a.objective&&(0,r.jsx)(t.BT,{className:"pt-2",children:a.objective}),a.audioUrl&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsxs)("audio",{controls:!0,controlsList:"nodownload",className:"w-full h-10",children:[(0,r.jsx)("source",{src:a.audioUrl,type:"audio/mp3"}),"Tu navegador no soporta el elemento de audio."]})})]}),(0,r.jsx)(t.Wu,{children:(()=>{switch(y){case 0:return(0,r.jsxs)("div",{className:"p-4 space-y-4 text-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"A veces damos lo mismo a todas las personas sin notar c\xf3mo nos afecta. Este ejercicio te invita a observar c\xf3mo te sientes en tus relaciones cotidianas para que puedas decidir c\xf3mo implicarte."}),(0,r.jsxs)(l.$,{onClick:P,children:["Empezar mi sem\xe1foro ",(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"})]})]});case 1:return(0,r.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 1: Mapa de relaciones"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Haz una lista de 5 personas con las que tengas contacto frecuente (personal o laboral)."}),q.map((e,a)=>(0,r.jsx)(o.p,{value:e.name,onChange:e=>S(a,"name",e.target.value),placeholder:"Persona ".concat(a+1,"...")},a)),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(l.$,{onClick:$,variant:"outline",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsxs)(l.$,{onClick:P,children:["Siguiente: Clasificar ",(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"})]})]})]});case 2:return(0,r.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 2: Elige un color para cada relaci\xf3n"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Para cada persona, elige un color seg\xfan lo que su relaci\xf3n genera en ti:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-sm pl-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{className:"text-green-600",children:"Verde:"})," Me siento libre, escuchado/a, tranquilo/a. Esta relaci\xf3n me nutre."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{className:"text-amber-600",children:"\xc1mbar:"})," Me cuesta poner l\xedmites. Me agoto un poco, pero me cuesta expresarlo."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{className:"text-red-600",children:"Rojo:"})," Me siento drenado/a, desestabilizado/a o ansioso/a con frecuencia."]})]}),q.filter(e=>e.name).map((e,a)=>(0,r.jsxs)("div",{className:"space-y-3 border-t pt-3",children:[(0,r.jsx)(i.J,{className:"font-semibold",children:e.name}),(0,r.jsxs)(d.z,{value:e.color,onValueChange:e=>S(a,"color",e),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.C,{value:"Verde",id:"c-".concat(a,"-g")}),(0,r.jsx)(i.J,{htmlFor:"c-".concat(a,"-g"),className:"font-normal",children:"Verde"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.C,{value:"\xc1mbar",id:"c-".concat(a,"-a")}),(0,r.jsx)(i.J,{htmlFor:"c-".concat(a,"-a"),className:"font-normal",children:"\xc1mbar"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.C,{value:"Rojo",id:"c-".concat(a,"-r")}),(0,r.jsx)(i.J,{htmlFor:"c-".concat(a,"-r"),className:"font-normal",children:"Rojo"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(i.J,{htmlFor:"reason-".concat(a),className:"text-sm font-normal text-muted-foreground pt-2",children:"\xbfPor qu\xe9 has elegido ese color? \xbfQu\xe9 sientes o piensas con esa persona?"}),(0,r.jsx)(c.T,{id:"reason-".concat(a),value:e.reason,onChange:e=>S(a,"reason",e.target.value),placeholder:"Ejemplo: “Rojo, porque siempre me exige m\xe1s de lo que puedo dar.”",rows:2})]})]},a)),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(l.$,{onClick:$,variant:"outline",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsxs)(l.$,{onClick:P,children:["Siguiente: Reflexi\xf3n ",(0,r.jsx)(m.A,{className:"ml-2 h-4 w-4"})]})]})]});case 3:return(0,r.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 3: Reflexi\xf3n guiada"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{children:"\xbfTe ha sorprendido el color que le diste a alguna relaci\xf3n?"}),(0,r.jsx)(c.T,{value:C.q1,onChange:e=>J("q1",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{children:"\xbfNotas patrones? \xbfRelaciones que antes eran verdes y ahora son \xe1mbar?"}),(0,r.jsx)(c.T,{value:C.q2,onChange:e=>J("q2",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{children:"\xbfQu\xe9 relaci\xf3n sientes que necesitas revisar, proteger o alejarte un poco?"}),(0,r.jsx)(c.T,{value:C.q3,onChange:e=>J("q3",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{children:"\xbfQu\xe9 v\xednculo te gustar\xeda cuidar m\xe1s conscientemente?"}),(0,r.jsx)(c.T,{value:C.q4,onChange:e=>J("q4",e.target.value)})]}),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsxs)(l.$,{onClick:$,variant:"outline",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,r.jsxs)(l.$,{onClick:P,children:["Siguiente: Plan de Acci\xf3n ",(0,r.jsx)(m.A,{className:"ml-2 h-4 w-4"})]})]})]});case 4:return(0,r.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 4: Acciones por color"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{className:"font-semibold text-green-600",children:"Relaci\xf3n verde – Nutritiva"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Haz algo para fortalecerla: agradece, comparte, pasa tiempo de calidad."}),(0,r.jsx)(c.T,{value:R.green,onChange:e=>M("green",e.target.value),placeholder:"“Voy a…”"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{className:"font-semibold text-amber-600",children:"Relaci\xf3n \xe1mbar – Exigente"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Practica un peque\xf1o l\xedmite o expr\xe9sate con m\xe1s claridad."}),(0,r.jsx)(c.T,{value:R.amber,onChange:e=>M("amber",e.target.value),placeholder:"“Esta vez voy a intentar…”"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{className:"font-semibold text-red-600",children:"Relaci\xf3n roja – Drenante"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Marca distancia emocional o elige el silencio protector."}),(0,r.jsx)(c.T,{value:R.red,onChange:e=>M("red",e.target.value),placeholder:"“Para protegerme, voy a…”"})]})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground italic text-center",children:"No tienes que cortar ning\xfan v\xednculo de golpe. Solo dar un paso hacia delante que te devuelva a ti."}),(0,r.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,r.jsx)(l.$,{onClick:$,variant:"outline",children:"Atr\xe1s"}),(0,r.jsxs)(l.$,{onClick:V,children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Guardar en mi cuaderno"]})]})]});case 5:return(0,r.jsxs)("div",{className:"p-6 text-center space-y-4 animate-in fade-in-0 duration-500",children:[(0,r.jsx)(p.A,{className:"h-12 w-12 text-green-500 mx-auto"}),(0,r.jsx)("h4",{className:"font-bold text-lg",children:"Ejercicio Guardado"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Tu reflexi\xf3n ha sido guardada en el Cuaderno Terap\xe9utico. Puedes revisarla cuando quieras."})]});default:return null}})()})]})}},46046:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},50909:(e,a,s)=>{s.d(a,{C:()=>c,z:()=>o});var r=s(95155),n=s(12115),t=s(24058),l=s(99051),i=s(64269);let o=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,r.jsx)(t.bL,{className:(0,i.cn)("grid gap-2",s),...n,ref:a})});o.displayName=t.bL.displayName;let c=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,r.jsx)(t.q7,{ref:a,className:(0,i.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...n,children:(0,r.jsx)(t.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(l.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});c.displayName=t.q7.displayName},52987:(e,a,s)=>{s.d(a,{A:()=>r});let r=(0,s(71847).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},65142:(e,a,s)=>{s.d(a,{p:()=>l});var r=s(95155),n=s(12115),t=s(64269);let l=n.forwardRef((e,a)=>{let{className:s,type:n,...l}=e;return(0,r.jsx)("input",{type:n,className:(0,t.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","text-foreground",s),ref:a,...l})});l.displayName="Input"},76444:(e,a,s)=>{s.d(a,{J:()=>c});var r=s(95155),n=s(12115),t=s(32894),l=s(83101),i=s(64269);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,r.jsx)(t.b,{ref:a,className:(0,i.cn)(o(),s),...n})});c.displayName=t.b.displayName},78108:(e,a,s)=>{s.d(a,{Z:()=>n});var r=s(12115);function n(e){let a=r.useRef({value:e,previous:e});return r.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},84288:(e,a,s)=>{s.d(a,{X:()=>t});var r=s(12115),n=s(4129);function t(e){let[a,s]=r.useState(void 0);return(0,n.N)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let a=new ResizeObserver(a=>{let r,n;if(!Array.isArray(a)||!a.length)return;let t=a[0];if("borderBoxSize"in t){let e=t.borderBoxSize,a=Array.isArray(e)?e[0]:e;r=a.inlineSize,n=a.blockSize}else r=e.offsetWidth,n=e.offsetHeight;s({width:r,height:n})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}s(void 0)},[e]),a}}}]);