"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7826],{31120:(e,a,r)=>{r.d(a,{T:()=>n});var s=r(95155),t=r(12115),i=r(64269);let n=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:a,...t})});n.displayName="Textarea"},32894:(e,a,r)=>{r.d(a,{b:()=>o});var s=r(12115);r(47650);var t=r(32467),i=r(95155),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let r=(0,t.TL)(`Primitive.${a}`),n=s.forwardRef((e,s)=>{let{asChild:t,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(t?r:a,{...n,ref:s})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{}),l=s.forwardRef((e,a)=>(0,i.jsx)(n.label,{...e,ref:a,onMouseDown:a=>{var r;a.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));l.displayName="Label";var o=l},35626:(e,a,r)=>{r.d(a,{A:()=>s});let s=(0,r(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},38162:(e,a,r)=>{r.d(a,{C1:()=>k,bL:()=>N});var s=r(12115),t=r(94446),i=r(3468),n=r(92556),l=r(23558),o=r(78108),d=r(84288),c=r(76842),u=r(88142),m=r(95155),h="Checkbox",[p,f]=(0,i.A)(h),[x,b]=p(h);function j(e){let{__scopeCheckbox:a,checked:r,children:t,defaultChecked:i,disabled:n,form:o,name:d,onCheckedChange:c,required:u,value:p="on",internal_do_not_use_render:f}=e,[b,j]=(0,l.i)({prop:r,defaultProp:null!=i&&i,onChange:c,caller:h}),[v,y]=s.useState(null),[N,g]=s.useState(null),k=s.useRef(!1),w=!v||!!o||!!v.closest("form"),C={checked:b,disabled:n,setChecked:j,control:v,setControl:y,name:d,form:o,value:p,hasConsumerStoppedPropagationRef:k,required:u,defaultChecked:!A(i)&&i,isFormControl:w,bubbleInput:N,setBubbleInput:g};return(0,m.jsx)(x,{scope:a,...C,children:"function"==typeof f?f(C):t})}var v="CheckboxTrigger",y=s.forwardRef((e,a)=>{let{__scopeCheckbox:r,onKeyDown:i,onClick:l,...o}=e,{control:d,value:c,disabled:h,checked:p,required:f,setControl:x,setChecked:j,hasConsumerStoppedPropagationRef:y,isFormControl:N,bubbleInput:g}=b(v,r),k=(0,t.s)(a,x),w=s.useRef(p);return s.useEffect(()=>{let e=null==d?void 0:d.form;if(e){let a=()=>j(w.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[d,j]),(0,m.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":A(p)?"mixed":p,"aria-required":f,"data-state":S(p),"data-disabled":h?"":void 0,disabled:h,value:c,...o,ref:k,onKeyDown:(0,n.mK)(i,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.mK)(l,e=>{j(e=>!!A(e)||!e),g&&N&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})});y.displayName=v;var N=s.forwardRef((e,a)=>{let{__scopeCheckbox:r,name:s,checked:t,defaultChecked:i,required:n,disabled:l,value:o,onCheckedChange:d,form:c,...u}=e;return(0,m.jsx)(j,{__scopeCheckbox:r,checked:t,defaultChecked:i,disabled:l,required:n,onCheckedChange:d,name:s,form:c,value:o,internal_do_not_use_render:e=>{let{isFormControl:s}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y,{...u,ref:a,__scopeCheckbox:r}),s&&(0,m.jsx)(C,{__scopeCheckbox:r})]})}})});N.displayName=h;var g="CheckboxIndicator",k=s.forwardRef((e,a)=>{let{__scopeCheckbox:r,forceMount:s,...t}=e,i=b(g,r);return(0,m.jsx)(c.C,{present:s||A(i.checked)||!0===i.checked,children:(0,m.jsx)(u.sG.span,{"data-state":S(i.checked),"data-disabled":i.disabled?"":void 0,...t,ref:a,style:{pointerEvents:"none",...e.style}})})});k.displayName=g;var w="CheckboxBubbleInput",C=s.forwardRef((e,a)=>{let{__scopeCheckbox:r,...i}=e,{control:n,hasConsumerStoppedPropagationRef:l,checked:c,defaultChecked:h,required:p,disabled:f,name:x,value:j,form:v,bubbleInput:y,setBubbleInput:N}=b(w,r),g=(0,t.s)(a,N),k=(0,o.Z)(c),C=(0,d.X)(n);s.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!l.current;if(k!==c&&e){let r=new Event("click",{bubbles:a});y.indeterminate=A(c),e.call(y,!A(c)&&c),y.dispatchEvent(r)}},[y,k,c,l]);let S=s.useRef(!A(c)&&c);return(0,m.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=h?h:S.current,required:p,disabled:f,name:x,value:j,form:v,...i,tabIndex:-1,ref:g,style:{...i.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function A(e){return"indeterminate"===e}function S(e){return A(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=w},46046:(e,a,r)=>{r.d(a,{A:()=>s});let s=(0,r(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},52987:(e,a,r)=>{r.d(a,{A:()=>s});let s=(0,r(71847).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},57826:(e,a,r)=>{r.r(a),r.d(a,{default:()=>y});var s=r(95155),t=r(12115),i=r(86948),n=r(3998),l=r(76444),o=r(73457),d=r(31120),c=r(15894),u=r(90799),m=r(52987),h=r(35626),p=r(46046),f=r(28051),x=r(29141);let b=[{id:"area-work",label:"Trabajo / estudios"},{id:"area-economy",label:"Econom\xeda / dinero"},{id:"area-health",label:"Salud"},{id:"area-relationships",label:"Relaciones afectivas"},{id:"area-family",label:"Familia / hijos"},{id:"area-future",label:"Futuro personal"},{id:"area-purpose",label:"Prop\xf3sito / decisiones importantes"}],j=[{id:"resp-worry",label:"Me preocupo mucho"},{id:"resp-control",label:"Intento controlar todo"},{id:"resp-avoid",label:"Evito pensar en ello"},{id:"resp-paralyze",label:"Me paralizo"},{id:"resp-info",label:"Busco mucha informaci\xf3n"},{id:"resp-distract",label:"Me distraigo con otras cosas"},{id:"resp-irritate",label:"Me irrito o me pongo de mal humor"}],v=["intro","areas","responses","summary"];function y(e){let{content:a,pathId:r,onComplete:y}=e,{toast:N}=(0,c.dj)(),{user:g}=(0,x.J)(),[k,w]=(0,t.useState)(0),[C,A]=(0,t.useState)({}),[S,R]=(0,t.useState)(""),[E,M]=(0,t.useState)({}),[T,z]=(0,t.useState)(""),L=()=>1===k&&Object.values(C).every(e=>!e)?void N({title:"Selecci\xf3n requerida",description:"Por favor, marca al menos un \xe1rea.",variant:"destructive"}):2===k&&Object.values(E).every(e=>!e)?void N({title:"Selecci\xf3n requerida",description:"Por favor, marca al menos una respuesta habitual.",variant:"destructive"}):void w(e=>Math.min(e+1,v.length-1)),P=()=>w(e=>Math.max(0,e-1)),D=(e,a)=>{A(r=>({...r,[e]:a}))},I=(e,a)=>{M(r=>({...r,[e]:a}))};return(0,s.jsxs)(i.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsxs)(i.ZB,{className:"text-lg text-accent flex items-center",children:[(0,s.jsx)(u.A,{className:"mr-2"}),a.title]}),a.audioUrl&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)("audio",{controls:!0,controlsList:"nodownload",className:"w-full h-10",children:[(0,s.jsx)("source",{src:a.audioUrl,type:"audio/mp3"}),"Tu navegador no soporta el elemento de audio."]})}),a.objective&&(0,s.jsx)(i.BT,{className:"pt-2",children:a.objective})]}),(0,s.jsxs)(i.Wu,{children:["intro"===v[k]&&(0,s.jsxs)("div",{className:"text-center p-4",children:[(0,s.jsx)("p",{className:"mb-6",children:"A veces nos sentimos inquietos sin saber muy bien por qu\xe9. Este ejercicio te ayudar\xe1 a observar con claridad d\xf3nde sientes m\xe1s incertidumbre y c\xf3mo sueles reaccionar ante ella. No hay respuestas buenas o malas, solo pistas valiosas para entenderte mejor."}),(0,s.jsxs)(n.$,{onClick:L,children:["Comenzar mi mapa ",(0,s.jsx)(m.A,{className:"ml-2 h-4 w-4"})]})]}),"areas"===v[k]&&(0,s.jsxs)("div",{className:"space-y-4 p-2 animate-in fade-in-0 duration-500",children:[(0,s.jsx)(l.J,{className:"font-semibold text-lg",children:"\xbfEn qu\xe9 \xe1reas sientes m\xe1s incertidumbre?"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Marca las \xe1reas donde \xfaltimamente has sentido m\xe1s incertidumbre."}),(0,s.jsxs)("div",{className:"space-y-2",children:[b.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.S,{id:e.id,checked:C[e.id]||!1,onCheckedChange:a=>D(e.id,a)}),(0,s.jsx)(l.J,{htmlFor:e.id,className:"font-normal",children:e.label})]},e.id)),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.S,{id:"area-other",checked:C["area-other"]||!1,onCheckedChange:e=>D("area-other",e)}),(0,s.jsx)(l.J,{htmlFor:"area-other",className:"font-normal",children:"Otra:"})]}),C["area-other"]&&(0,s.jsx)(d.T,{value:S,onChange:e=>R(e.target.value),placeholder:"Describe el otra \xe1rea",className:"ml-6"})]}),(0,s.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,s.jsxs)(n.$,{onClick:P,variant:"outline",children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,s.jsxs)(n.$,{onClick:L,children:["Siguiente ",(0,s.jsx)(m.A,{className:"ml-2 h-4 w-4"})]})]})]}),"responses"===v[k]&&(0,s.jsxs)("div",{className:"space-y-4 p-2 animate-in fade-in-0 duration-500",children:[(0,s.jsx)(l.J,{className:"font-semibold text-lg",children:"\xbfC\xf3mo sueles responder?"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"\xbfQu\xe9 sueles hacer cuando est\xe1s en una situaci\xf3n incierta?"}),(0,s.jsxs)("div",{className:"space-y-2",children:[j.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.S,{id:e.id,checked:E[e.id]||!1,onCheckedChange:a=>I(e.id,a)}),(0,s.jsx)(l.J,{htmlFor:e.id,className:"font-normal",children:e.label})]},e.id)),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.S,{id:"resp-other",checked:E["resp-other"]||!1,onCheckedChange:e=>I("resp-other",e)}),(0,s.jsx)(l.J,{htmlFor:"resp-other",className:"font-normal",children:"Otra:"})]}),E["resp-other"]&&(0,s.jsx)(d.T,{value:T,onChange:e=>z(e.target.value),placeholder:"Describe la otra respuesta",className:"ml-6"})]}),(0,s.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,s.jsxs)(n.$,{onClick:P,variant:"outline",children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,s.jsx)(n.$,{onClick:L,children:"Ver mi mapa"})]})]}),"summary"===v[k]&&(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=(e,a)=>e.filter(e=>a[e.id]).map(e=>e.label),t=s(b,C);C["area-other"]&&S.trim()&&t.push("Otra: ".concat(S.trim()));let i=s(j,E);E["resp-other"]&&T.trim()&&i.push("Otra: ".concat(T.trim()));let n="\n**Ejercicio: ".concat(a.title,"**\n\n**\xbfEn qu\xe9 \xe1reas sientes m\xe1s incertidumbre?:**\n").concat(t.length>0?t.map(e=>"- ".concat(e)).join("\n"):"Ninguna especificada.","\n\n**\xbfC\xf3mo sueles responder?:**\n").concat(i.length>0?i.map(e=>"- ".concat(e)).join("\n"):"Ninguna especificada.","\n    ");(0,f.R1)({title:"Mi Mapa de la Incertidumbre",content:n,pathId:r,userId:null==g?void 0:g.id}),N({title:"Ejercicio Guardado",description:"Tu 'Mapa de la Incertidumbre' se ha guardado en el Cuaderno Terap\xe9utico."}),y()},className:"space-y-6 p-4 animate-in fade-in-0 duration-500",children:[(0,s.jsxs)(i.Zp,{className:"p-4",children:[(0,s.jsx)(i.aR,{className:"p-2",children:(0,s.jsx)(i.ZB,{children:"\xc1reas donde sientes m\xe1s incertidumbre:"})}),(0,s.jsx)(i.Wu,{className:"p-2",children:(0,s.jsxs)("ul",{className:"list-disc list-inside",children:[b.filter(e=>C[e.id]).map(e=>(0,s.jsx)("li",{children:e.label},e.id)),C["area-other"]&&S.trim()&&(0,s.jsx)("li",{children:S.trim()})]})})]}),(0,s.jsxs)(i.Zp,{className:"p-4",children:[(0,s.jsx)(i.aR,{className:"p-2",children:(0,s.jsx)(i.ZB,{children:"Tus reacciones habituales:"})}),(0,s.jsx)(i.Wu,{className:"p-2",children:(0,s.jsxs)("ul",{className:"list-disc list-inside",children:[j.filter(e=>E[e.id]).map(e=>(0,s.jsx)("li",{children:e.label},e.id)),E["resp-other"]&&T.trim()&&(0,s.jsx)("li",{children:T.trim()})]})})]}),(0,s.jsx)("p",{className:"text-sm italic text-center text-muted-foreground pt-4",children:"Este mapa no es un diagn\xf3stico, es una br\xfajula. Reconocer d\xf3nde te cuesta soltar el control te da la oportunidad de responder con conciencia, en lugar de reaccionar en autom\xe1tico."}),(0,s.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,s.jsxs)(n.$,{onClick:P,variant:"outline",type:"button",children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,s.jsxs)(n.$,{type:"submit",children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Guardar en mi diario"]})]})]})]})]})}},73457:(e,a,r)=>{r.d(a,{S:()=>o});var s=r(95155),t=r(12115),i=r(38162),n=r(5917),l=r(64269);let o=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(i.bL,{ref:a,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...t,children:(0,s.jsx)(i.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})})});o.displayName=i.bL.displayName},76444:(e,a,r)=>{r.d(a,{J:()=>d});var s=r(95155),t=r(12115),i=r(32894),n=r(83101),l=r(64269);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(i.b,{ref:a,className:(0,l.cn)(o(),r),...t})});d.displayName=i.b.displayName},78108:(e,a,r)=>{r.d(a,{Z:()=>t});var s=r(12115);function t(e){let a=s.useRef({value:e,previous:e});return s.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},84288:(e,a,r)=>{r.d(a,{X:()=>i});var s=r(12115),t=r(4129);function i(e){let[a,r]=s.useState(void 0);return(0,t.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let a=new ResizeObserver(a=>{let s,t;if(!Array.isArray(a)||!a.length)return;let i=a[0];if("borderBoxSize"in i){let e=i.borderBoxSize,a=Array.isArray(e)?e[0]:e;s=a.inlineSize,t=a.blockSize}else s=e.offsetWidth,t=e.offsetHeight;r({width:s,height:t})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}r(void 0)},[e]),a}}}]);