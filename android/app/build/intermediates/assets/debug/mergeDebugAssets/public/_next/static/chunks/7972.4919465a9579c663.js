"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7972],{27972:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var r=t(95155),s=t(12115),i=t(86948),n=t(3998),d=t(76444),o=t(31120),l=t(73457),c=t(15894),u=t(50168),m=t(90799),h=t(46046),f=t(42529),p=t(71046),x=t(28051),b=t(29141),v=t(26549);let g=[{id:"origin-family",label:"Familia o educaci\xf3n"},{id:"origin-culture",label:"Cultura o sociedad"},{id:"origin-rejection-fear",label:"Miedo al rechazo"},{id:"origin-approval-desire",label:"Deseo de aprobaci\xf3n"},{id:"origin-insecurity",label:"Inseguridad personal"}];function j(e){let{content:a,onComplete:t,pathId:j}=e;(0,u.c)();let{toast:y}=(0,c.dj)(),{user:N}=(0,b.J)(),[k,w]=(0,s.useState)(""),[C,E]=(0,s.useState)({}),[R,S]=(0,s.useState)(""),[T,q]=(0,s.useState)(""),[A,D]=(0,s.useState)(""),[M,F]=(0,s.useState)(""),[I,J]=(0,s.useState)(!1),[Q,z]=(0,s.useState)(""),[L,P]=(0,s.useState)(!1),_="".concat(v.T,"/audios/r1_desc/Sesion3tecnica2tabladeexigenciasvsdeseosreales.mp3"),G=(e,a)=>{E(t=>({...t,[e]:a}))};return(0,r.jsxs)(i.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"text-lg text-accent flex items-center",children:[(0,r.jsx)(m.A,{className:"mr-2"}),a.title]}),_&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("audio",{controls:!0,controlsList:"nodownload",className:"w-full",children:[(0,r.jsx)("source",{src:_,type:"audio/mp3"}),"Tu navegador no soporta el elemento de audio."]})}),a.objective&&(0,r.jsx)(i.BT,{className:"pt-2",children:a.objective}),a.duration&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground pt-1",children:["Duraci\xf3n estimada: ",a.duration]})]}),(0,r.jsxs)(i.Wu,{children:[(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!k.trim()||!T.trim()||!A.trim()||!M.trim())return void y({title:"Campos Incompletos",description:"Por favor, completa todos los pasos del ejercicio.",variant:"destructive"});let r=g.filter(e=>C[e.id]).map(e=>e.label);C["origin-other-check"]&&R&&r.push(R);let s="\n**Ejercicio: ".concat(a.title,"**\n\n**1. Exigencia detectada: \xbfQu\xe9 te est\xe1s diciendo?**\n").concat(k,"\n\n**2. Origen probable: \xbfDe d\xf3nde crees que viene esta exigencia?**\n").concat(r.length>0?r.join(", "):"No especificado.","\n\n**3. Consecuencias: \xbfQu\xe9 te est\xe1 costando esta exigencia?**\n").concat(T,"\n\n**4. Deseo o necesidad real: \xbfQu\xe9 necesitas o quieres de verdad?**\n").concat(A,'\n\n**5. Reformulaci\xf3n compasiva: \xbfQu\xe9 podr\xedas decirte con m\xe1s amabilidad?**\n"').concat(M,'"\n    ');(0,x.R1)({title:"Registro: ".concat(a.title),content:s,pathId:j,userId:null==N?void 0:N.id}),y({title:"Ejercicio Guardado",description:"Tu registro de 'Exigencias vs. Deseos' ha sido guardado."}),J(!0),t()},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"demand",className:"font-semibold",children:"1. Exigencia detectada: \xbfQu\xe9 te est\xe1s diciendo?"}),(0,r.jsx)(o.T,{id:"demand",value:k,onChange:e=>w(e.target.value),placeholder:"Ej: Tengo que estar siempre disponible para todos, aunque no pueda m\xe1s.",disabled:I})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{className:"font-semibold",children:"2. Origen probable: \xbfDe d\xf3nde crees que viene esta exigencia?"}),(0,r.jsxs)("div",{className:"space-y-2",children:[g.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(l.S,{id:e.id,checked:C[e.id]||!1,onCheckedChange:a=>G(e.id,a),disabled:I}),(0,r.jsx)(d.J,{htmlFor:e.id,className:"font-normal",children:e.label})]},e.id)),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(l.S,{id:"origin-other-check",checked:C["origin-other-check"]||!1,onCheckedChange:e=>G("origin-other-check",e),disabled:I}),(0,r.jsx)(d.J,{htmlFor:"origin-other-check",className:"font-normal",children:"Otra:"})]}),C["origin-other-check"]&&(0,r.jsx)(o.T,{value:R,onChange:e=>S(e.target.value),placeholder:"Describe el otro origen",disabled:I,className:"ml-6"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"consequences",className:"font-semibold",children:"3. Consecuencias: \xbfQu\xe9 te est\xe1 costando esta exigencia?"}),(0,r.jsx)(o.T,{id:"consequences",value:T,onChange:e=>q(e.target.value),placeholder:"Impacto emocional, f\xedsico, en relaciones... Ej: Me siento agotada, irritable...",disabled:I})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"realNeed",className:"font-semibold",children:"4. Deseo o necesidad real: \xbfQu\xe9 necesitas o quieres de verdad?"}),(0,r.jsx)(o.T,{id:"realNeed",value:A,onChange:e=>D(e.target.value),placeholder:"Conecta con tu parte honesta. Ej: Necesito descansar y darme permiso.",disabled:I})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"reformulation",className:"font-semibold",children:"5. Reformulaci\xf3n compasiva: \xbfQu\xe9 podr\xedas decirte con m\xe1s amabilidad?"}),(0,r.jsx)(o.T,{id:"reformulation",value:M,onChange:e=>F(e.target.value),placeholder:"Ej: Estoy haciendo lo mejor que puedo. Tambi\xe9n merezco cuidarme.",disabled:I})]}),I?(0,r.jsxs)("div",{className:"flex items-center justify-center p-3 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 rounded-md",children:[(0,r.jsx)(f.A,{className:"mr-2 h-5 w-5"}),(0,r.jsx)("p",{className:"font-medium",children:"Tu ejercicio ha sido guardado."})]}):(0,r.jsxs)(n.$,{type:"submit",className:"w-full",children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Guardar Ejercicio"]})]}),I&&(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!Q.trim())return void y({title:"Reflexi\xf3n vac\xeda",description:"Escribe tu reflexi\xf3n para guardarla.",variant:"destructive"});(0,x.R1)({title:"Reflexi\xf3n: ".concat(a.title),content:"**\xbfQu\xe9 exigencias me est\xe1n pesando m\xe1s? \xbfC\xf3mo puedo transformarlas en necesidades reales que s\xed quiero cuidar?**\n\n".concat(Q),pathId:j,userId:null==N?void 0:N.id}),y({title:"Reflexi\xf3n Guardada",description:"Tu reflexi\xf3n se ha guardado en el Cuaderno Terap\xe9utico."}),P(!0)},className:"mt-8 pt-6 border-t",children:[(0,r.jsxs)("h4",{className:"font-semibold text-md text-primary mb-4 flex items-center",children:[(0,r.jsx)(p.A,{className:"mr-2 h-5 w-5"}),"Reflexi\xf3n Final (Para el Cuaderno Terap\xe9utico)"]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"reflection-notebook-demands",className:"font-normal text-sm",children:"\xbfQu\xe9 exigencias me est\xe1n pesando m\xe1s? \xbfC\xf3mo puedo transformarlas en necesidades reales que s\xed quiero cuidar?"}),(0,r.jsx)(o.T,{id:"reflection-notebook-demands",value:Q,onChange:e=>z(e.target.value),placeholder:"Escribe tu reflexi\xf3n aqu\xed...",rows:4,disabled:L})]}),L?(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-center p-3 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 rounded-md",children:[(0,r.jsx)(f.A,{className:"mr-2 h-5 w-5"}),(0,r.jsx)("p",{className:"font-medium",children:"Tu reflexi\xf3n ha sido guardada."})]}):(0,r.jsxs)(n.$,{type:"submit",className:"w-full mt-4",children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Guardar Reflexi\xf3n en mi Cuaderno"]})]})]})]})}},31120:(e,a,t)=>{t.d(a,{T:()=>n});var r=t(95155),s=t(12115),i=t(64269);let n=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s})});n.displayName="Textarea"},32894:(e,a,t)=>{t.d(a,{b:()=>o});var r=t(12115);t(47650);var s=t(32467),i=t(95155),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let t=(0,s.TL)(`Primitive.${a}`),n=r.forwardRef((e,r)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(s?t:a,{...n,ref:r})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{}),d=r.forwardRef((e,a)=>(0,i.jsx)(n.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));d.displayName="Label";var o=d},38162:(e,a,t)=>{t.d(a,{C1:()=>k,bL:()=>y});var r=t(12115),s=t(94446),i=t(3468),n=t(92556),d=t(23558),o=t(78108),l=t(84288),c=t(76842),u=t(88142),m=t(95155),h="Checkbox",[f,p]=(0,i.A)(h),[x,b]=f(h);function v(e){let{__scopeCheckbox:a,checked:t,children:s,defaultChecked:i,disabled:n,form:o,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:p}=e,[b,v]=(0,d.i)({prop:t,defaultProp:null!=i&&i,onChange:c,caller:h}),[g,j]=r.useState(null),[y,N]=r.useState(null),k=r.useRef(!1),w=!g||!!o||!!g.closest("form"),C={checked:b,disabled:n,setChecked:v,control:g,setControl:j,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:k,required:u,defaultChecked:!E(i)&&i,isFormControl:w,bubbleInput:y,setBubbleInput:N};return(0,m.jsx)(x,{scope:a,...C,children:"function"==typeof p?p(C):s})}var g="CheckboxTrigger",j=r.forwardRef((e,a)=>{let{__scopeCheckbox:t,onKeyDown:i,onClick:d,...o}=e,{control:l,value:c,disabled:h,checked:f,required:p,setControl:x,setChecked:v,hasConsumerStoppedPropagationRef:j,isFormControl:y,bubbleInput:N}=b(g,t),k=(0,s.s)(a,x),w=r.useRef(f);return r.useEffect(()=>{let e=null==l?void 0:l.form;if(e){let a=()=>v(w.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[l,v]),(0,m.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":E(f)?"mixed":f,"aria-required":p,"data-state":R(f),"data-disabled":h?"":void 0,disabled:h,value:c,...o,ref:k,onKeyDown:(0,n.mK)(i,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.mK)(d,e=>{v(e=>!!E(e)||!e),N&&y&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});j.displayName=g;var y=r.forwardRef((e,a)=>{let{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:n,disabled:d,value:o,onCheckedChange:l,form:c,...u}=e;return(0,m.jsx)(v,{__scopeCheckbox:t,checked:s,defaultChecked:i,disabled:d,required:n,onCheckedChange:l,name:r,form:c,value:o,internal_do_not_use_render:e=>{let{isFormControl:r}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j,{...u,ref:a,__scopeCheckbox:t}),r&&(0,m.jsx)(C,{__scopeCheckbox:t})]})}})});y.displayName=h;var N="CheckboxIndicator",k=r.forwardRef((e,a)=>{let{__scopeCheckbox:t,forceMount:r,...s}=e,i=b(N,t);return(0,m.jsx)(c.C,{present:r||E(i.checked)||!0===i.checked,children:(0,m.jsx)(u.sG.span,{"data-state":R(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:a,style:{pointerEvents:"none",...e.style}})})});k.displayName=N;var w="CheckboxBubbleInput",C=r.forwardRef((e,a)=>{let{__scopeCheckbox:t,...i}=e,{control:n,hasConsumerStoppedPropagationRef:d,checked:c,defaultChecked:h,required:f,disabled:p,name:x,value:v,form:g,bubbleInput:j,setBubbleInput:y}=b(w,t),N=(0,s.s)(a,y),k=(0,o.Z)(c),C=(0,l.X)(n);r.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!d.current;if(k!==c&&e){let t=new Event("click",{bubbles:a});j.indeterminate=E(c),e.call(j,!E(c)&&c),j.dispatchEvent(t)}},[j,k,c,d]);let R=r.useRef(!E(c)&&c);return(0,m.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=h?h:R.current,required:f,disabled:p,name:x,value:v,form:g,...i,tabIndex:-1,ref:N,style:{...i.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function E(e){return"indeterminate"===e}function R(e){return E(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=w},46046:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},71046:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(71847).A)("NotebookText",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]])},73457:(e,a,t)=>{t.d(a,{S:()=>o});var r=t(95155),s=t(12115),i=t(38162),n=t(5917),d=t(64269);let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.bL,{ref:a,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:(0,r.jsx)(i.C1,{className:(0,d.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})})});o.displayName=i.bL.displayName},76444:(e,a,t)=>{t.d(a,{J:()=>l});var r=t(95155),s=t(12115),i=t(32894),n=t(83101),d=t(64269);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.b,{ref:a,className:(0,d.cn)(o(),t),...s})});l.displayName=i.b.displayName},78108:(e,a,t)=>{t.d(a,{Z:()=>s});var r=t(12115);function s(e){let a=r.useRef({value:e,previous:e});return r.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},84288:(e,a,t)=>{t.d(a,{X:()=>i});var r=t(12115),s=t(4129);function i(e){let[a,t]=r.useState(void 0);return(0,s.N)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let a=new ResizeObserver(a=>{let r,s;if(!Array.isArray(a)||!a.length)return;let i=a[0];if("borderBoxSize"in i){let e=i.borderBoxSize,a=Array.isArray(e)?e[0]:e;r=a.inlineSize,s=a.blockSize}else r=e.offsetWidth,s=e.offsetHeight;t({width:r,height:s})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}t(void 0)},[e]),a}}}]);