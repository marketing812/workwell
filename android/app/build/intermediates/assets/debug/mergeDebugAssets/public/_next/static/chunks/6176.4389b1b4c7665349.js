"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6176],{31120:(e,a,s)=>{s.d(a,{T:()=>r});var t=s(95155),n=s(12115),l=s(64269);let r=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n})});r.displayName="Textarea"},32894:(e,a,s)=>{s.d(a,{b:()=>o});var t=s(12115);s(47650);var n=s(32467),l=s(95155),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let s=(0,n.TL)(`Primitive.${a}`),r=t.forwardRef((e,t)=>{let{asChild:n,...r}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(n?s:a,{...r,ref:t})});return r.displayName=`Primitive.${a}`,{...e,[a]:r}},{}),i=t.forwardRef((e,a)=>(0,l.jsx)(r.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var o=i},35626:(e,a,s)=>{s.d(a,{A:()=>t});let t=(0,s(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},46046:(e,a,s)=>{s.d(a,{A:()=>t});let t=(0,s(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},52987:(e,a,s)=>{s.d(a,{A:()=>t});let t=(0,s(71847).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},76444:(e,a,s)=>{s.d(a,{J:()=>c});var t=s(95155),n=s(12115),l=s(32894),r=s(83101),i=s(64269);let o=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(l.b,{ref:a,className:(0,i.cn)(o(),s),...n})});c.displayName=l.b.displayName},96176:(e,a,s)=>{s.r(a),s.d(a,{default:()=>f});var t=s(95155),n=s(12115),l=s(86948),r=s(3998),i=s(76444),o=s(31120),c=s(15894),d=s(52987),u=s(35626),m=s(46046),p=s(42529),x=s(90799),h=s(28051),j=s(29141);function f(e){let{content:a,pathId:s,onComplete:f}=e,{toast:v}=(0,c.dj)(),{user:g}=(0,j.J)(),[N,y]=(0,n.useState)(0),[b,w]=(0,n.useState)(""),[A,C]=(0,n.useState)({action:"",value:"",outcome:""}),[k,P]=(0,n.useState)({fear:"",strategy:"",support:"",phrase:""}),[B,T]=(0,n.useState)(""),[E,F]=(0,n.useState)(!1),R=()=>y(e=>e+1),S=()=>y(e=>e-1),$=()=>{y(0),w(""),C({action:"",value:"",outcome:""}),P({fear:"",strategy:"",support:"",phrase:""}),T(""),F(!1)},J=e=>{if(e.preventDefault(),!b.trim()||!A.action.trim()||!k.fear.trim()||!B.trim())return void v({title:"Campos incompletos",description:"Por favor, completa todas las secciones para guardar tu plan.",variant:"destructive"});let t="\n**Ejercicio: ".concat(a.title,"**\n\n**Decisi\xf3n a tomar:**\n").concat(b,"\n\n---\n**Plan A (Paso con intenci\xf3n):**\n* Acci\xf3n: ").concat(A.action,"\n* Valor: ").concat(A.value,"\n* Resultado esperado: ").concat(A.outcome,"\n\n---\n**Plan B (Red de cuidado emocional):**\n* Miedo principal: ").concat(k.fear,"\n* Estrategia de cuidado: ").concat(k.strategy,"\n* Apoyo disponible: ").concat(k.support,'\n* Frase personal de contenci\xf3n: "').concat(k.phrase,'"\n\n---\n**Mi compromiso realista:**\n').concat(B,"\n    ");(0,h.R1)({title:"Mi Plan A/B Emocional",content:t,pathId:s,userId:null==g?void 0:g.id}),v({title:"Plan Guardado",description:"Tu plan A/B se ha guardado en el cuaderno."}),F(!0),f(),R()};return(0,t.jsxs)(l.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"text-lg text-accent flex items-center",children:[(0,t.jsx)(x.A,{className:"mr-2"}),a.title]}),a.objective&&(0,t.jsxs)(l.BT,{className:"pt-2",children:[a.objective,a.audioUrl&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("audio",{controls:!0,controlsList:"nodownload",className:"w-full",children:[(0,t.jsx)("source",{src:a.audioUrl,type:"audio/mp3"}),"Tu navegador no soporta el elemento de audio."]})})]})]}),(0,t.jsx)(l.Wu,{children:(()=>{switch(N){case 0:return(0,t.jsxs)("div",{className:"p-4 space-y-4 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Vamos a construir dos planes:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside text-left mx-auto max-w-md",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Plan A:"})," tu elecci\xf3n principal, tu paso con intenci\xf3n."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Plan B:"})," tu red de cuidado emocional si las cosas no salen como esperas."]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Esto no es pensar en negativo. Es pensar con valent\xeda y con inteligencia emocional."}),(0,t.jsxs)(r.$,{onClick:R,children:["Empezar ",(0,t.jsx)(d.A,{className:"ml-2 h-4 w-4"})]})]});case 1:return(0,t.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,t.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 1: Define tu decisi\xf3n"}),(0,t.jsx)(i.J,{htmlFor:"decision",children:"Describe en una frase clara la decisi\xf3n que est\xe1s enfrentando."}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"Ejemplo: “Decidir si hablo con mi hermana sobre c\xf3mo me sent\xed en la discusi\xf3n.”"}),(0,t.jsx)(o.T,{id:"decision",value:b,onChange:e=>w(e.target.value)}),(0,t.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,t.jsxs)(r.$,{onClick:S,variant:"outline",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,t.jsxs)(r.$,{onClick:R,disabled:!b.trim(),children:["Siguiente ",(0,t.jsx)(d.A,{className:"ml-2 h-4 w-4"})]})]})]});case 2:return(0,t.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,t.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 2: Plan A – \xbfQu\xe9 har\xe1s?"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ejemplo: Acci\xf3n: Hablar con ella ma\xf1ana con calma. Valor: Quiero relaciones donde pueda ser honesta. Resultado esperado: Que me escuche y podamos acercarnos."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"planA-action",children:"Acci\xf3n concreta"}),(0,t.jsx)(o.T,{id:"planA-action",value:A.action,onChange:e=>C(a=>({...a,action:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"planA-value",children:"Valor asociado"}),(0,t.jsx)(o.T,{id:"planA-value",value:A.value,onChange:e=>C(a=>({...a,value:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"planA-outcome",children:"Resultado deseado"}),(0,t.jsx)(o.T,{id:"planA-outcome",value:A.outcome,onChange:e=>C(a=>({...a,outcome:e.target.value}))})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,t.jsxs)(r.$,{onClick:S,variant:"outline",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,t.jsxs)(r.$,{onClick:R,disabled:!A.action.trim()||!A.value.trim()||!A.outcome.trim(),children:["Siguiente ",(0,t.jsx)(d.A,{className:"ml-2 h-4 w-4"})]})]})]});case 3:return(0,t.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,t.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 3: Plan B – \xbfC\xf3mo te cuidar\xe1s si no sale como esperas?"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ejemplo: Miedo: Que se enfade o me rechace. Estrategia: Recordarme que expresar lo que siento no es hacer da\xf1o. Apoyo: Hablar con mi terapeuta. Frase: “No controlo sus reacciones, pero s\xed puedo cuidar mi verdad.”"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"planB-fear",children:"\xbfQu\xe9 es lo que m\xe1s temes que ocurra?"}),(0,t.jsx)(o.T,{id:"planB-fear",value:k.fear,onChange:e=>P(a=>({...a,fear:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"planB-strategy",children:"\xbfQu\xe9 har\xedas si eso sucede?"}),(0,t.jsx)(o.T,{id:"planB-strategy",value:k.strategy,onChange:e=>P(a=>({...a,strategy:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"planB-support",children:"\xbfA qui\xe9n podr\xedas acudir?"}),(0,t.jsx)(o.T,{id:"planB-support",value:k.support,onChange:e=>P(a=>({...a,support:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"planB-phrase",children:"\xbfQu\xe9 frase o imagen podr\xedas recordarte para sostenerte?"}),(0,t.jsx)(o.T,{id:"planB-phrase",value:k.phrase,onChange:e=>P(a=>({...a,phrase:e.target.value}))})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,t.jsxs)(r.$,{onClick:S,variant:"outline",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,t.jsxs)(r.$,{onClick:R,disabled:!k.fear.trim()||!k.strategy.trim(),children:["Siguiente ",(0,t.jsx)(d.A,{className:"ml-2 h-4 w-4"})]})]})]});case 4:return(0,t.jsxs)("form",{onSubmit:J,className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,t.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 4: Tu compromiso realista"}),(0,t.jsx)(i.J,{htmlFor:"commitment",children:"\xbfQu\xe9 paso peque\xf1o y concreto vas a dar en los pr\xf3ximos d\xedas para poner en marcha este plan?"}),(0,t.jsx)(o.T,{id:"commitment",value:B,onChange:e=>T(e.target.value)}),(0,t.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,t.jsxs)(r.$,{onClick:S,variant:"outline",type:"button",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,t.jsxs)(r.$,{type:"submit",children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"})," Guardar Plan"]})]})]});case 5:return(0,t.jsxs)("div",{className:"p-6 text-center space-y-4 animate-in fade-in-0 duration-500",children:[(0,t.jsx)(p.A,{className:"h-12 w-12 text-green-500 mx-auto"}),(0,t.jsx)("h4",{className:"font-bold text-lg",children:"Plan Guardado"}),(0,t.jsx)("p",{className:"text-muted-foreground italic",children:"“No todo depende de ti. Pero s\xed depende de ti c\xf3mo decides cuidarte pase lo que pase”."}),(0,t.jsx)(r.$,{onClick:$,variant:"outline",className:"w-full",children:"Crear otro plan A/B"})]});default:return null}})()})]})}}}]);