"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6446],{13154:(e,t,r)=>{r.d(t,{Hm:()=>v,II:()=>p,Nt:()=>f,_3:()=>g,at:()=>m});var s=r(95155),a=r(12115),n=r(26991),o=r(23508),l=r(7620),i=r(64269);let c={light:"",dark:".dark"},d=a.createContext(null);function u(){let e=a.useContext(d);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let m=a.forwardRef((e,t)=>{let{id:r,className:o,children:l,config:c,...u}=e,m=a.useId(),p="chart-".concat(r||m.replace(/:/g,""));return(0,s.jsx)(d.Provider,{value:{config:c},children:(0,s.jsxs)("div",{"data-chart":p,ref:t,className:(0,i.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",o),...u,children:[(0,s.jsx)(h,{id:p,config:c}),(0,s.jsx)(n.u,{children:l})]})})});m.displayName="Chart";let h=e=>{let{id:t,config:r}=e,a=Object.entries(r).filter(e=>{let[,t]=e;return t.theme||t.color});return a.length?(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(c).map(e=>{let[r,s]=e;return"\n".concat(s," [data-chart=").concat(t,"] {\n").concat(a.map(e=>{var t;let[s,a]=e,n=(null==(t=a.theme)?void 0:t[r])||a.color;return n?"  --color-".concat(s,": ").concat(n,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},p=o.m,f=a.forwardRef((e,t)=>{let{active:r,payload:n,className:o,indicator:l="dot",hideLabel:c=!1,hideIndicator:d=!1,label:m,labelFormatter:h,labelClassName:p,formatter:f,color:g,nameKey:v,labelKey:x}=e,{config:b}=u(),w=a.useMemo(()=>{var e;if(c||!(null==n?void 0:n.length))return null;let[t]=n,r="".concat(x||t.dataKey||t.name||"value"),a=y(b,t,r),o=x||"string"!=typeof m?null==a?void 0:a.label:(null==(e=b[m])?void 0:e.label)||m;return h?(0,s.jsx)("div",{className:(0,i.cn)("font-medium",p),children:h(o,n)}):o?(0,s.jsx)("div",{className:(0,i.cn)("font-medium",p),children:o}):null},[m,h,n,c,p,b,x]);if(!r||!(null==n?void 0:n.length))return null;let S=1===n.length&&"dot"!==l;return(0,s.jsxs)("div",{ref:t,className:(0,i.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",o),children:[S?null:w,(0,s.jsx)("div",{className:"grid gap-1.5",children:n.map((e,t)=>{let r="".concat(v||e.name||e.dataKey||"value"),a=y(b,e,r),n=g||e.payload.fill||e.color;return(0,s.jsx)("div",{className:(0,i.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===l&&"items-center"),children:f&&(null==e?void 0:e.value)!==void 0&&e.name?f(e.value,e.name,e,t,e.payload):(0,s.jsxs)(s.Fragment,{children:[(null==a?void 0:a.icon)?(0,s.jsx)(a.icon,{}):!d&&(0,s.jsx)("div",{className:(0,i.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===l,"w-1":"line"===l,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===l,"my-0.5":S&&"dashed"===l}),style:{"--color-bg":n,"--color-border":n}}),(0,s.jsxs)("div",{className:(0,i.cn)("flex flex-1 justify-between leading-none",S?"items-end":"items-center"),children:[(0,s.jsxs)("div",{className:"grid gap-1.5",children:[S?w:null,(0,s.jsx)("span",{className:"text-muted-foreground",children:(null==a?void 0:a.label)||e.name})]}),e.value&&(0,s.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});f.displayName="ChartTooltip";let g=l.s,v=a.forwardRef((e,t)=>{let{className:r,hideIcon:a=!1,payload:n,verticalAlign:o="bottom",nameKey:l}=e,{config:c}=u();return(null==n?void 0:n.length)?(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center justify-center gap-4","top"===o?"pb-3":"pt-3",r),children:n.map(e=>{let t="".concat(l||e.dataKey||"value"),r=y(c,e,t);return(0,s.jsxs)("div",{className:(0,i.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==r?void 0:r.icon)&&!a?(0,s.jsx)(r.icon,{}):(0,s.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==r?void 0:r.label]},e.value)})}):null});function y(e,t,r){if("object"!=typeof t||null===t)return;let s="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,a=r;return r in t&&"string"==typeof t[r]?a=t[r]:s&&r in s&&"string"==typeof s[r]&&(a=s[r]),a in e?e[a]:e[r]}v.displayName="ChartLegend"},15894:(e,t,r)=>{r.d(t,{dj:()=>u});var s=r(12115);let a=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e3);n.set(e,t)},l=[],i={toasts:[]};function c(e){i=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(i,e),l.forEach(e=>{e(i)})}function d(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=s.useState(i);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},59402:(e,t,r)=>{r.d(t,{$9:()=>i,X_:()=>l,Zy:()=>c,k9:()=>d,s9:()=>u});var s=r(19056),a=r(5282),n=r(80160);let o="workwell-assessment-history";function l(){try{let e=localStorage.getItem(o);return(e?JSON.parse(e):[]).sort((e,t)=>{try{return(0,s.H)(t.timestamp).getTime()-(0,s.H)(e.timestamp).getTime()}catch(e){return 0}})}catch(e){return console.error("Error reading assessment history from localStorage:",e),[]}}function i(e,t){let r={id:crypto.randomUUID(),timestamp:new Date().toISOString(),data:{...e,respuestas:t}};try{let e=l(),t=[r,...e].slice(0,20);return localStorage.setItem(o,JSON.stringify(t)),console.log("AssessmentHistoryStore: Saved new assessment record. Total records:",t.length),window.dispatchEvent(new CustomEvent("assessment-history-updated")),r}catch(e){return console.error("Error saving assessment record to localStorage:",e),r}}function c(e){return l().find(t=>t.id===e)}function d(e){if(!e)return"Fecha no disponible";try{let t=(0,s.H)(e);if(!isNaN(t.getTime()))return(0,a.GP)(t,"dd MMM yyyy, HH:mm",{locale:n.es});let r=new Date(e.replace(" ","T")+(e.includes("Z")?"":"Z"));if(!isNaN(r.getTime()))return(0,a.GP)(r,"dd MMM yyyy, HH:mm",{locale:n.es});return console.error("Error formatting assessment timestamp: Invalid date string provided -",e),"Fecha inv\xe1lida"}catch(t){return console.error("Error critical formatting assessment timestamp for input:",e,t),"Fecha inv\xe1lida"}}function u(e){try{let t=[...e].sort((e,t)=>{try{return(0,s.H)(t.timestamp).getTime()-(0,s.H)(e.timestamp).getTime()}catch(r){try{return new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()}catch(r){return console.warn("overwriteAssessmentHistory: Could not parse timestamps for sorting",t.timestamp,e.timestamp),0}}}).slice(0,20);localStorage.setItem(o,JSON.stringify(t)),console.log("AssessmentHistoryStore: Overwritten local assessment history with API data. Total records:",t.length),window.dispatchEvent(new CustomEvent("assessment-history-updated"))}catch(e){console.error("Error overwriting assessment history in localStorage:",e)}}}}]);