"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7521],{31120:(e,a,t)=>{t.d(a,{T:()=>n});var s=t(95155),r=t(12115),i=t(64269);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...r})});n.displayName="Textarea"},32894:(e,a,t)=>{t.d(a,{b:()=>o});var s=t(12115);t(47650);var r=t(32467),i=t(95155),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let t=(0,r.TL)(`Primitive.${a}`),n=s.forwardRef((e,s)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(r?t:a,{...n,ref:s})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{}),l=s.forwardRef((e,a)=>(0,i.jsx)(n.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));l.displayName="Label";var o=l},34212:(e,a,t)=>{t.d(a,{q:()=>s});function s(e,[a,t]){return Math.min(t,Math.max(a,e))}},35626:(e,a,t)=>{t.d(a,{A:()=>s});let s=(0,t(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},38162:(e,a,t)=>{t.d(a,{C1:()=>w,bL:()=>g});var s=t(12115),r=t(94446),i=t(3468),n=t(92556),l=t(23558),o=t(78108),c=t(84288),d=t(76842),u=t(88142),m=t(95155),p="Checkbox",[f,x]=(0,i.A)(p),[h,b]=f(p);function v(e){let{__scopeCheckbox:a,checked:t,children:r,defaultChecked:i,disabled:n,form:o,name:c,onCheckedChange:d,required:u,value:f="on",internal_do_not_use_render:x}=e,[b,v]=(0,l.i)({prop:t,defaultProp:null!=i&&i,onChange:d,caller:p}),[y,j]=s.useState(null),[g,N]=s.useState(null),w=s.useRef(!1),k=!y||!!o||!!y.closest("form"),A={checked:b,disabled:n,setChecked:v,control:y,setControl:j,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:!C(i)&&i,isFormControl:k,bubbleInput:g,setBubbleInput:N};return(0,m.jsx)(h,{scope:a,...A,children:"function"==typeof x?x(A):r})}var y="CheckboxTrigger",j=s.forwardRef((e,a)=>{let{__scopeCheckbox:t,onKeyDown:i,onClick:l,...o}=e,{control:c,value:d,disabled:p,checked:f,required:x,setControl:h,setChecked:v,hasConsumerStoppedPropagationRef:j,isFormControl:g,bubbleInput:N}=b(y,t),w=(0,r.s)(a,h),k=s.useRef(f);return s.useEffect(()=>{let e=null==c?void 0:c.form;if(e){let a=()=>v(k.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[c,v]),(0,m.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":C(f)?"mixed":f,"aria-required":x,"data-state":R(f),"data-disabled":p?"":void 0,disabled:p,value:d,...o,ref:w,onKeyDown:(0,n.mK)(i,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.mK)(l,e=>{v(e=>!!C(e)||!e),N&&g&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});j.displayName=y;var g=s.forwardRef((e,a)=>{let{__scopeCheckbox:t,name:s,checked:r,defaultChecked:i,required:n,disabled:l,value:o,onCheckedChange:c,form:d,...u}=e;return(0,m.jsx)(v,{__scopeCheckbox:t,checked:r,defaultChecked:i,disabled:l,required:n,onCheckedChange:c,name:s,form:d,value:o,internal_do_not_use_render:e=>{let{isFormControl:s}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j,{...u,ref:a,__scopeCheckbox:t}),s&&(0,m.jsx)(A,{__scopeCheckbox:t})]})}})});g.displayName=p;var N="CheckboxIndicator",w=s.forwardRef((e,a)=>{let{__scopeCheckbox:t,forceMount:s,...r}=e,i=b(N,t);return(0,m.jsx)(d.C,{present:s||C(i.checked)||!0===i.checked,children:(0,m.jsx)(u.sG.span,{"data-state":R(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{pointerEvents:"none",...e.style}})})});w.displayName=N;var k="CheckboxBubbleInput",A=s.forwardRef((e,a)=>{let{__scopeCheckbox:t,...i}=e,{control:n,hasConsumerStoppedPropagationRef:l,checked:d,defaultChecked:p,required:f,disabled:x,name:h,value:v,form:y,bubbleInput:j,setBubbleInput:g}=b(k,t),N=(0,r.s)(a,g),w=(0,o.Z)(d),A=(0,c.X)(n);s.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!l.current;if(w!==d&&e){let t=new Event("click",{bubbles:a});j.indeterminate=C(d),e.call(j,!C(d)&&d),j.dispatchEvent(t)}},[j,w,d,l]);let R=s.useRef(!C(d)&&d);return(0,m.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=p?p:R.current,required:f,disabled:x,name:h,value:v,form:y,...i,tabIndex:-1,ref:N,style:{...i.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function R(e){return C(e)?"indeterminate":e?"checked":"unchecked"}A.displayName=k},38634:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var s=t(95155),r=t(12115),i=t(86948),n=t(3998),l=t(76444),o=t(31120),c=t(15894),d=t(52987);let u=(0,t(71847).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var m=t(35626),p=t(46046),f=t(90799),x=t(28051),h=t(65142),b=t(64581),v=t(73457),y=t(29141);let j=[{id:"emocional",label:"Emocional: te escucha, valida tus sentimientos, te acompa\xf1a."},{id:"practico",label:"Pr\xe1ctico: te ayuda con tareas, gestiones o recursos materiales."},{id:"validacion",label:"Validaci\xf3n/Consejo: te orienta o comparte experiencias que te sirven de gu\xeda."}];function g(e){let{content:a,pathId:t,pathTitle:g,moduleTitle:N,onComplete:w}=e,{toast:k}=(0,c.dj)(),{user:A}=(0,y.J)(),[C,R]=(0,r.useState)(0),[q,S]=(0,r.useState)(()=>[,,,,,].fill(null).map(()=>({name:"",supportType:{emocional:!1,practico:!1,validacion:!1},quality:3}))),[M,E]=(0,r.useState)(""),[P,T]=(0,r.useState)(!1),L=()=>{S(e=>[...e,{name:"",supportType:{emocional:!1,practico:!1,validacion:!1},quality:3}])},$=()=>R(e=>e+1),z=()=>R(e=>e>0?e-1:0),D=e=>{e.preventDefault();let s=q.filter(e=>""!==e.name.trim());if(0===s.length)return void k({title:"Mapa vac\xedo",description:"A\xf1ade al menos una persona para guardar tu mapa.",variant:"destructive"});let r="**Ruta:** ".concat(g,"\n**Semana:** ").concat(N,"\n**Ejercicio:** ").concat(a.title,"\n\n");s.forEach(e=>{let a=Object.entries(e.supportType).filter(e=>{let[,a]=e;return a}).map(e=>{var a;let[t]=e;return null==(a=j.find(e=>e.id===t))?void 0:a.label.split(":")[0]}).join(", ");r+="**Persona:** ".concat(e.name,"\n"),r+="- Tipo de apoyo: ".concat(a||"No especificado","\n"),r+="- Calidad percibida: ".concat(e.quality,"/5\n\n")}),r+="**Reflexi\xf3n:**\n".concat(M||"Sin reflexi\xf3n."),(0,x.R1)({title:"Mi Mapa de Relaciones y Apoyo",content:r,pathId:t,ruta:g,userId:null==A?void 0:A.id}),k({title:"Mapa Guardado"}),T(!0),w()};return(0,s.jsxs)(i.Zp,{className:"bg-muted/30 my-6 shadow-md",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsxs)(i.ZB,{className:"text-lg text-accent flex items-center",children:[(0,s.jsx)(f.A,{className:"mr-2"}),a.title]}),a.objective&&(0,s.jsx)(i.BT,{className:"pt-2",children:a.objective}),a.audioUrl&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)("audio",{controls:!0,controlsList:"nodownload",className:"w-full",children:[(0,s.jsx)("source",{src:a.audioUrl,type:"audio/mp3"}),"Tu navegador no soporta el elemento de audio."]})})]}),(0,s.jsx)(i.Wu,{children:(()=>{switch(C){case 0:return(0,s.jsxs)("div",{className:"p-4 space-y-4 text-center",children:[(0,s.jsx)("p",{className:"text-sm",children:"Saber qui\xe9n est\xe1 ah\xed para ti es como tener un mapa en mitad de un viaje: no garantiza que el camino sea f\xe1cil, pero s\xed que no tendr\xe1s que recorrerlo en soledad."}),(0,s.jsx)("p",{className:"text-sm",children:"Hoy vas a dibujar tu propio Mapa de Relaciones y Apoyo, para identificar qu\xe9 personas forman tu red y de qu\xe9 manera te sostienen."}),(0,s.jsxs)(n.$,{onClick:$,children:["Comenzar ejercicio ",(0,s.jsx)(d.A,{className:"mr-2 h-4 w-4"})]})]});case 1:return(0,s.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,s.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 1: Identifica a tus personas clave"}),(0,s.jsx)("p",{className:"text-sm",children:"Piensa en familiares, amistades, compa\xf1eros/as de trabajo, o cualquier persona con quien tengas un v\xednculo significativo."}),(0,s.jsx)("div",{className:"space-y-3",children:q.map((e,a)=>(0,s.jsx)(h.p,{value:e.name,onChange:e=>((e,a)=>{let t=[...q];t[e].name=a,S(t)})(a,e.target.value),placeholder:"Persona ".concat(a+1,"... (Ej: Ana, Carlos, Mar\xeda)")},a))}),(0,s.jsxs)(n.$,{onClick:L,variant:"outline",className:"w-full",children:[(0,s.jsx)(u,{className:"mr-2 h-4 w-4"}),"A\xf1adir otra persona"]}),(0,s.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,s.jsxs)(n.$,{onClick:z,variant:"outline",children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,s.jsxs)(n.$,{onClick:$,children:["Siguiente: Clasificar ",(0,s.jsx)(d.A,{className:"mr-2 h-4 w-4"})]})]})]});case 2:return(0,s.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,s.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 2: Clasifica el tipo de apoyo"}),(0,s.jsx)("p",{className:"text-sm",children:"Para cada persona, selecciona qu\xe9 tipo de apoyo recibes."}),q.filter(e=>e.name.trim()).map((e,a)=>(0,s.jsxs)("div",{className:"p-3 border rounded-md",children:[(0,s.jsx)("p",{className:"font-semibold",children:e.name}),(0,s.jsx)("div",{className:"space-y-2 mt-2",children:j.map(t=>(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,s.jsx)(v.S,{id:"support-".concat(a,"-").concat(t.id),checked:e.supportType[t.id],onCheckedChange:e=>((e,a,t)=>{let s=[...q];s[e].supportType[a]=t,S(s)})(a,t.id,!!e)}),(0,s.jsx)(l.J,{htmlFor:"support-".concat(a,"-").concat(t.id),className:"font-normal text-sm",children:t.label})]},t.id))})]},a)),(0,s.jsxs)("div",{className:"flex justify-between w-full",children:[(0,s.jsxs)(n.$,{onClick:z,variant:"outline",children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,s.jsxs)(n.$,{onClick:$,children:["Siguiente ",(0,s.jsx)(d.A,{className:"ml-2 h-4 w-4"})]})]})]});case 3:return(0,s.jsxs)("div",{className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,s.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 3: Valora la calidad del apoyo"}),(0,s.jsx)("p",{className:"text-sm",children:"Del 1 al 5, punt\xfaa la calidad del apoyo (1 = muy bajo, 5 = muy alto). Recuerda: calidad significa que es genuino, consistente y respetuoso."}),q.filter(e=>e.name.trim()).map((e,a)=>(0,s.jsxs)("div",{className:"p-3 border rounded-md",children:[(0,s.jsxs)(l.J,{htmlFor:"quality-".concat(a),className:"font-semibold",children:[e.name,": Nivel ",e.quality]}),(0,s.jsx)(b.A,{id:"quality-".concat(a),value:[e.quality],onValueChange:e=>((e,a)=>{let t=[...q];t[e].quality=a[0],S(t)})(a,e),min:1,max:5,step:1,className:"mt-2"})]},a)),(0,s.jsxs)("div",{className:"flex justify-between w-full",children:[(0,s.jsxs)(n.$,{onClick:z,variant:"outline",children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Atr\xe1s"]}),(0,s.jsxs)(n.$,{onClick:$,children:["Siguiente ",(0,s.jsx)(d.A,{className:"ml-2 h-4 w-4"})]})]})]});case 4:return(0,s.jsxs)("form",{onSubmit:D,className:"p-4 space-y-4 animate-in fade-in-0 duration-500",children:[(0,s.jsx)("h4",{className:"font-semibold text-lg",children:"Paso 4: Reflexi\xf3n y s\xedntesis"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"reflection",children:"Observa tu mapa y responde:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside text-sm pl-4",children:[(0,s.jsx)("li",{children:"\xbfTienes apoyos muy concentrados en una sola persona?"}),(0,s.jsx)("li",{children:"\xbfFaltan ciertos tipos de apoyo?"}),(0,s.jsx)("li",{children:"\xbfHay v\xednculos que ser\xeda bueno cuidar m\xe1s?"})]}),(0,s.jsx)(o.T,{id:"reflection",value:M,onChange:e=>E(e.target.value),placeholder:"Ej: Me doy cuenta de que recibo mucho apoyo emocional de Ana, pero casi nada pr\xe1ctico..."})]}),(0,s.jsxs)("div",{className:"flex justify-between w-full",children:[(0,s.jsx)(n.$,{onClick:z,variant:"outline",type:"button",children:"Atr\xe1s"}),(0,s.jsxs)(n.$,{type:"submit",children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Guardar y continuar"]})]})]});default:return null}})()})]})}},46046:(e,a,t)=>{t.d(a,{A:()=>s});let s=(0,t(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},52987:(e,a,t)=>{t.d(a,{A:()=>s});let s=(0,t(71847).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},64581:(e,a,t)=>{t.d(a,{A:()=>l});var s=t(95155),r=t(12115),i=t(83026),n=t(64269);let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsxs)(i.bL,{ref:a,className:(0,n.cn)("relative flex w-full touch-none select-none items-center py-2",t),...r,children:[(0,s.jsx)(i.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,s.jsx)(i.Q6,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(i.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});l.displayName=i.bL.displayName},65142:(e,a,t)=>{t.d(a,{p:()=>n});var s=t(95155),r=t(12115),i=t(64269);let n=r.forwardRef((e,a)=>{let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","text-foreground",t),ref:a,...n})});n.displayName="Input"},73457:(e,a,t)=>{t.d(a,{S:()=>o});var s=t(95155),r=t(12115),i=t(38162),n=t(5917),l=t(64269);let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.bL,{ref:a,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:(0,s.jsx)(i.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})})});o.displayName=i.bL.displayName},76444:(e,a,t)=>{t.d(a,{J:()=>c});var s=t(95155),r=t(12115),i=t(32894),n=t(83101),l=t(64269);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.b,{ref:a,className:(0,l.cn)(o(),t),...r})});c.displayName=i.b.displayName},78108:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(12115);function r(e){let a=s.useRef({value:e,previous:e});return s.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},84288:(e,a,t)=>{t.d(a,{X:()=>i});var s=t(12115),r=t(4129);function i(e){let[a,t]=s.useState(void 0);return(0,r.N)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let a=new ResizeObserver(a=>{let s,r;if(!Array.isArray(a)||!a.length)return;let i=a[0];if("borderBoxSize"in i){let e=i.borderBoxSize,a=Array.isArray(e)?e[0]:e;s=a.inlineSize,r=a.blockSize}else s=e.offsetWidth,r=e.offsetHeight;t({width:s,height:r})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}t(void 0)},[e]),a}}}]);